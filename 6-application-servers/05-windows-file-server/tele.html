




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CIS 527 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Windows File Server :: CIS 527 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis527/6-application-servers/05-windows-file-server/index.html" rel="canonical" type="text/html" title="Windows File Server :: CIS 527 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis527/6-application-servers/05-windows-file-server/index.xml" rel="alternate" type="application/rss+xml" title="Windows File Server :: CIS 527 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis527/6-application-servers/05-windows-file-server/index.print.html" rel="alternate" type="text/html" title="Windows File Server :: CIS 527 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis527/6-application-servers/05-windows-file-server/embed.html" rel="alternate" type="text/html" title="Windows File Server :: CIS 527 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/fontawesome-all.min.css?1696952135" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis527/css/fontawesome-all.min.css?1696952135" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/nucleus.css?1696952135" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/auto-complete.css?1696952135" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis527/css/auto-complete.css?1696952135" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/perfect-scrollbar.min.css?1696952135" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/fonts.css?1696952135" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis527/css/fonts.css?1696952135" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/theme.css?1696952135" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/theme-auto.css?1696952135" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/variant.css?1696952135" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/print.css?1696952135" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/ie.css?1696952135" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/url.js?1696952135"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/variant.js?1696952135"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis527/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis527/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis527/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/custom.css?1696952135" rel="stylesheet">

  </head>
  <body class="mobile-support tele disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis527/6-application-servers/05-windows-file-server/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="windows-file-server">Windows File Server</h1>


<a href="https://www.youtube.com/watch?v=kFagxkFgkkY">YouTube Video</a>

<h4 id="resources">Resources</h4>
<ul>
<li><strong><a href="https://ksu-cs-textbooks.github.io/cis527/4-directory-services/06-windows-group-policy/">Windows Group Policy</a>
</strong></li>
<li><a href="https://www.tactig.com/share-files-folders-windows-server-2016/" target="_blank">How to Share Files and Folders in Windows Server 2016</a>
 from Tactig</li>
<li><a href="https://activedirectorypro.com/map-network-drives-with-group-policy/" target="_blank">How to Map Network Drives with Group Policy (Complete Guide)</a>
 by Robert Allen on Active Directory Pro</li>
<li><a href="https://community.spiceworks.com/how_to/79280-mapping-network-drives-folders-via-group-policy" target="_blank">How to: Mapping Network Drives/Folders via Group Policy</a>
 on Spiceworks Community</li>
</ul>
<h4 id="video-transcript">Video Transcript</h4>
<p>In this video, I&rsquo;ll briefly walk you through the steps of setting up a file server in Windows Server 2016, as well as how to access those resources from a Windows 10 client on the same network. Finally, I&rsquo;ll discuss a bit of information about how to automatically map those resource as network drives on the client using Group Policy.</p>
<p>First, let&rsquo;s take a look at our server. I&rsquo;m using the same VMs from Lab 4 to continue this example. Your server probably already has the File Server role installed, but if not you can install it following the same process used to install the Active Directory Domain Services role in Lab 4.</p>
<p>In the Server Manger, you can click on the <strong>File and Storage Services</strong> role to view information about your server. There, you can see information about the storage volumes available on your server, as well as the shared folders. You should already see two shared folders on your system, named <code>NETLOGON</code> and <code>SYSVOL</code>. These are created for the Active Directory Domain Controller role, as they store important information about the domain, such as Group Policy Objects, or GPOs, that should be replicated to other systems on the domain. So, you shouldn&rsquo;t modify those shares!</p>
<p>If you&rsquo;d like to create a new shared folder, the first step is to create that folder on your system. I&rsquo;ll just create a folder in the root of the <code>C:\</code> drive called <code>share</code>. I&rsquo;ll also create a simple text file in that folder, just so it isn&rsquo;t empty. Next, I can either right-click the folder and configure the sharing options there, or I can share it through the wizard in the Server Manager. I&rsquo;ll do the second option, since it gives me a bit more control over the configuration for the shared folder.</p>
<p>In that wizard, I&rsquo;ll choose the &ldquo;SMB Share - Quick&rdquo; option since I don&rsquo;t need to set any advanced settings. Next, I&rsquo;ll set the location of the shared folder. In this case, since I&rsquo;ve already created it, I can click the <strong>Browse</strong> button at the bottom to select that folder. On the following screen, I can set some basic information about the shared folder, including the name and description of the share.</p>
<p>There are a few additional settings you can configure for the share, such as hiding files based on a user&rsquo;s permissions in the shared folder. I&rsquo;ll make sure I checkmark the option to &ldquo;Encrypt data access&rdquo; to protect any remote connections to this shared folder.</p>
<p>Next, you can set the permissions to access the share. To change them, click the <strong>Customize Permissions</strong> button. It is important to understand that a shared folder effectively has two sets of permissions - one set affecting access to the files and the folder itself, and another set, seen on the <strong>Share</strong> tab, that affects remote access to the files. In effect, you can limit who can access the files remotely, even if those users have permissions to access the files directly. I won&rsquo;t make any changes at this point, but for one of the shares in the lab assignment you may need to update the permissions at this point.</p>
<p>Finally, once everything is set correctly, I can click <strong>Create</strong> to create the shared folder. After it is created, I can see it in the Shares list inside the Server Manager.</p>
<p>There are a couple of ways to access the shared folder from a client on the same network. If network discovery is enabled, you can click the Network option on the left side of the Windows Explorer application to view servers on the network. However, in my experience, this option is usually the least successful, as Windows doesn&rsquo;t have a great history of being able to easily locate shared resources on the network.</p>
<p>Alternatively, you can always type two backslashes <code>\</code>, followed by either the computer name or IP address in the address bar of Windows Explorer to view the shares available on that system. So, for my example setup, I would enter either <code>\\cis527d-russfeld</code> or <code>\\192.168.40.42</code> to view the shares. I can then click on the shared folder name to view the files.</p>
<p>However, doing so might be a bit of a hassle for your users, so thankfully there are a few ways to make this process simpler. First, you can right-click on any shared drive and select the <strong>Map Network Drive</strong> option to create a mapped drive on your computer. In effect, this creates a shortcut in Windows Explorer directly to the shared folder, and it will assign it a drive letter just like the local disks on your system. For many users, this is a very simple way to make those network resources available.</p>
<p>However, you&rsquo;d have to do this process manually for each user who would like to have the network drive mapped, and on each computer they would access it from. That seems very inefficient, right? Thankfully, there is an even better way to handle this using a Group Policy Object.</p>
<p>In the Group Policy editor, there is an option to create drive maps as part of a Group Policy Object. Here, I&rsquo;ve configured a drive map to map that shared drive. Notice that I&rsquo;m referencing it by IP address instead of the server name. This helps the system find the drive quickly, since that IP address should always work without needing to query the domain to find the server on the network.</p>
<p>Once I&rsquo;ve created and enforced that Group Policy on the domain, I can switch back to the client and see if it works. One way to do so is to simply reboot the client and then log in again. When it reboots, it should receive the updated Group Policy Objects for the domain. However, if you&rsquo;d like to test it immediately, you can open a Command Prompt or PowerShell window, and use the command <code>gpupdate /force</code> to force a Group Policy update from the Domain Controller.</p>
<p>Once you&rsquo;ve updated the Group Policy, you should now see your newly mapped network drive in Windows Explorer. That&rsquo;s all it takes! From there, you should be able to complete the Windows File Server portion of Lab 6. Make sure you pay special attention to the permissions for each shared folder. You may also want to review the information from Module 4 regarding Windows Group Policy for a quick refresher.</p>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    </div>
    
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/clipboard.min.js?1696952137" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/perfect-scrollbar.min.js?1696952137" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/theme.js?1696952137" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/tele-scroll.js?1696952137 defer"></script>
    
  </body>
</html>
