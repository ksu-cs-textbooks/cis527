<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Note It appears that MySQL will now be installed with TLS enabled on Ubuntu 20.04, so you may not have to do that step. –Russ
Resources Install MySQL on Ubuntu 20.04 LTS Linux from LinuxConfig.org How To Install and Secure phpMyAdmin on Ubuntu 18.04 from DigitalOcean (works for 20.04) How To Install the Apache Web Server on Ubuntu 20.04 from DigitalOcean How To Secure Apache with Let’s Encrypt on Ubuntu 20."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ubuntu Web Server :: CIS 527 Textbook"><meta name=twitter:description content="Note It appears that MySQL will now be installed with TLS enabled on Ubuntu 20.04, so you may not have to do that step. –Russ
Resources Install MySQL on Ubuntu 20.04 LTS Linux from LinuxConfig.org How To Install and Secure phpMyAdmin on Ubuntu 18.04 from DigitalOcean (works for 20.04) How To Install the Apache Web Server on Ubuntu 20.04 from DigitalOcean How To Secure Apache with Let’s Encrypt on Ubuntu 20."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/6-application-servers/11-ubuntu-web-server/embed.html"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="Ubuntu Web Server :: CIS 527 Textbook"><meta property="og:description" content="Note It appears that MySQL will now be installed with TLS enabled on Ubuntu 20.04, so you may not have to do that step. –Russ
Resources Install MySQL on Ubuntu 20.04 LTS Linux from LinuxConfig.org How To Install and Secure phpMyAdmin on Ubuntu 18.04 from DigitalOcean (works for 20.04) How To Install the Apache Web Server on Ubuntu 20.04 from DigitalOcean How To Secure Apache with Let’s Encrypt on Ubuntu 20."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Application Servers"><meta property="article:modified_time" content="2020-05-13T11:11:55-05:00"><meta itemprop=name content="Ubuntu Web Server :: CIS 527 Textbook"><meta itemprop=description content="Note It appears that MySQL will now be installed with TLS enabled on Ubuntu 20.04, so you may not have to do that step. –Russ
Resources Install MySQL on Ubuntu 20.04 LTS Linux from LinuxConfig.org How To Install and Secure phpMyAdmin on Ubuntu 18.04 from DigitalOcean (works for 20.04) How To Install the Apache Web Server on Ubuntu 20.04 from DigitalOcean How To Secure Apache with Let’s Encrypt on Ubuntu 20."><meta itemprop=dateModified content="2020-05-13T11:11:55-05:00"><meta itemprop=wordCount content="772"><title>Ubuntu Web Server :: CIS 527 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis527/6-application-servers/11-ubuntu-web-server/ rel=canonical type=text/html title="Ubuntu Web Server :: CIS 527 Textbook"><link href=/cis527/6-application-servers/11-ubuntu-web-server/index.xml rel=alternate type=application/rss+xml title="Ubuntu Web Server :: CIS 527 Textbook"><link href=/cis527/6-application-servers/11-ubuntu-web-server/index.print.html rel=alternate type=text/html title="Ubuntu Web Server :: CIS 527 Textbook"><link href=/cis527/6-application-servers/11-ubuntu-web-server/tele.html rel=alternate type=text/html title="Ubuntu Web Server :: CIS 527 Textbook"><link href=/cis527/css/fontawesome-all.min.css?1729713264 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fontawesome-all.min.css?1729713264 rel=stylesheet></noscript><link href=/cis527/css/nucleus.css?1729713264 rel=stylesheet><link href=/cis527/css/auto-complete.css?1729713264 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/auto-complete.css?1729713264 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar.min.css?1729713264 rel=stylesheet><link href=/cis527/css/fonts.css?1729713264 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fonts.css?1729713264 rel=stylesheet></noscript><link href=/cis527/css/theme.css?1729713264 rel=stylesheet><link href=/cis527/css/theme-light-theme.css?1729713264 rel=stylesheet id=R-variant-style><link href=/cis527/css/chroma-relearn-light.css?1729713264 rel=stylesheet id=R-variant-chroma-style><link href=/cis527/css/variant.css?1729713264 rel=stylesheet><link href=/cis527/css/print.css?1729713264 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.index_js_url="/cis527/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis527/css/custom.css?1729713264 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis527/6-application-servers/11-ubuntu-web-server/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p><em>It appears that MySQL will now be installed with TLS enabled on Ubuntu 20.04, so you may not have to do that step. &ndash;Russ</em></p></div></div><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/a9-4tOoGHD0 style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h4 id=resources>Resources</h4><ul><li><a href=https://linuxconfig.org/install-mysql-on-ubuntu-20-04-lts-linux rel=external target=_blank>Install MySQL on Ubuntu 20.04 LTS Linux</a> from LinuxConfig.org</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-18-04 rel=external target=_blank>How To Install and Secure phpMyAdmin on Ubuntu 18.04</a> from DigitalOcean (works for 20.04)</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-20-04 rel=external target=_blank>How To Install the Apache Web Server on Ubuntu 20.04</a> from DigitalOcean</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-20-04 rel=external target=_blank>How To Secure Apache with Let&rsquo;s Encrypt on Ubuntu 20.04</a> from DigitalOcean</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-a-remote-database-to-optimize-site-performance-with-mysql-on-ubuntu-18-04 rel=external target=_blank>How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 18.04</a> from DigitalOcean (works for 20.04)</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-configure-ssl-tls-for-mysql-on-ubuntu-18-04 rel=external target=_blank>How To Configure SSL/TLS for MySQL on Ubuntu 18.04</a> from DigitalOcean (not required for 20.04)</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;m going to discuss some of the steps needed to prepare your Ubuntu servers running in the cloud to act as web application servers. For this example, I&rsquo;ll be using a single server as both my web and database server, but for the lab assignment you&rsquo;ll need to adapt this configuration to have the web application installed on your <strong>FRONTEND</strong> server access the database server on your <strong>BACKEND</strong> server.</p><p>At this point, you should already have Apache installed, as well as a couple of sites and virtual hosts created from Lab 5. I&rsquo;m going to use one of those existing virtual hosts as the basis for this web application. Remember that, for the lab assignment, you&rsquo;ll be creating another new virtual host for this application.</p><p>First, you&rsquo;ll need to install PHP and it&rsquo;s associated Apache module on your <strong>FRONTEND</strong> server:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install php libapache2-mod-php</span></span></code></pre></div><p>That will install and configure PHP on your system. To test it, you can create a new file in the web directory of one of your virtual hosts named <code>test.php</code> and add the following content:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;?php phpinfo(); ?&gt;</span></span></span></code></pre></div><p>Then, navigate to that virtual host and load the <code>test.php</code> file from that website. For my example, I would go to <code>http://foo.russfeld.me/test.php</code>. Hopefully you should see a website showing all of the PHP configuration information for your system. Once you confirm it is working, it is always a best practice to delete this <code>test.php</code> test file, as the information it provides could be used by a malicious person to attack your server.</p><p>Now that we&rsquo;ve confirmed that PHP is working, it is time to install the MySQL database server. This time, on your <strong>BACKEND</strong> server, do the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install mysql-server</span></span></code></pre></div><p>That will install the MySQL server on your system. However, by default it is configured very insecurely, so you&rsquo;ll need to reconfigure it to be more secure. Thankfully, there is a script to do just that:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mysql_secure_installation</span></span></code></pre></div><p>That script will ask you a series of questions to help you secure your MySQL server. In general, you should answer &ldquo;Yes&rdquo; to all of the questions, and set the password policy to at least &ldquo;MEDIUM&rdquo; security. In addition, you&rsquo;ll be asked to set a password for the <code>root</code> account on the server. As before, make sure it is very memorable password, and do not reuse any of the passwords we&rsquo;ve previously used in this course.</p><p>Once that is finished, you can test the connection to MySQL using the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mysql -u root</span></span></code></pre></div><p>It should take you to a new prompt that begins with <code>mysql></code>. Once there, we should create a new user for us to use for development. So, enter these commands at that prompt:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>USER</span><span class=w> </span><span class=s1>&#39;admin&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=w> </span><span class=k>IDENTIFIED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=s1>&#39;&lt;password&gt;&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GRANT</span><span class=w> </span><span class=k>ALL</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>*</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;admin&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=k>GRANT</span><span class=w> </span><span class=k>OPTION</span><span class=p>;</span></span></span></code></pre></div><p>where <code>&lt;password></code> is the password you&rsquo;d like to use for that account. Once that is done, you can enter:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>exit</span></span></span></code></pre></div><p>to close that connection. Now, you can test the new connection without using <code>sudo</code> as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mysql -u admin -p -h 127.0.0.1</span></span></code></pre></div><p>It should ask you for a password, and once you enter the password you created for the <code>admin</code> account above, it should take you back to the <code>mysql></code> prompt. While there, enter the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=err>\</span><span class=n>s</span></span></span></code></pre></div><p>to see the connection information. You&rsquo;ll notice that TLS (SSL) is not enabled. To enable that, follow the steps in the guide from DigitalOcean linked in the resources section below this video. I won&rsquo;t walk through those steps here since you&rsquo;ll doing that as part of your lab assignment. In addition, you&rsquo;ll want to follow the steps in that guide for configuring access for remote clients, as we&rsquo;ll be doing that to configure a web application in the next video.</p><p>That should cover everything you need to prepare your system for a web application that uses PHP and MySQL. In the next video, we&rsquo;ll go through the process of installing a simple application in this environment.</p><footer class=footline></footer></article></div></main></div><script src=/cis527/js/clipboard.min.js?1729713264 defer></script><script src=/cis527/js/perfect-scrollbar.min.js?1729713264 defer></script><script src=/cis527/js/theme.js?1729713264 defer></script><script src=/cis527/js/embed-iframe.js?1729713264 defer></script></body></html>