<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Putting your resources to work."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary"><meta name=twitter:title content="Application Servers :: CIS 527 Textbook"><meta name=twitter:description content="Putting your resources to work."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/6-application-servers/"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="Application Servers :: CIS 527 Textbook"><meta property="og:description" content="Putting your resources to work."><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta itemprop=name content="Application Servers :: CIS 527 Textbook"><meta itemprop=description content="Putting your resources to work."><meta itemprop=datePublished content="2018-08-24T10:53:05-05:00"><meta itemprop=dateModified content="2023-08-10T17:06:42-05:00"><meta itemprop=wordCount content="5"><title>Application Servers :: CIS 527 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis527/6-application-servers/ rel=canonical type=text/html title="Application Servers :: CIS 527 Textbook"><link href=/cis527/6-application-servers/index.xml rel=alternate type=application/rss+xml title="Application Servers :: CIS 527 Textbook"><link href=/cis527/6-application-servers/tele.html rel=alternate type=text/html title="Application Servers :: CIS 527 Textbook"><link href=/cis527/6-application-servers/embed.html rel=alternate type=text/html title="Application Servers :: CIS 527 Textbook"><link href=/cis527/css/fontawesome-all.min.css?1724249590 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fontawesome-all.min.css?1724249590 rel=stylesheet></noscript><link href=/cis527/css/nucleus.css?1724249590 rel=stylesheet><link href=/cis527/css/auto-complete.css?1724249590 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/auto-complete.css?1724249590 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar.min.css?1724249590 rel=stylesheet><link href=/cis527/css/fonts.css?1724249590 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fonts.css?1724249590 rel=stylesheet></noscript><link href=/cis527/css/theme.css?1724249590 rel=stylesheet><link href=/cis527/css/theme-auto.css?1724249590 rel=stylesheet id=R-variant-style><link href=/cis527/css/chroma-auto.css?1724249590 rel=stylesheet id=R-variant-chroma-style><link href=/cis527/css/variant.css?1724249590 rel=stylesheet><link href=/cis527/css/print.css?1724249590 rel=stylesheet media=print><link href=/cis527/css/format-print.css?1724249590 rel=stylesheet><script src=/cis527/js/variant.js?1724249590></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.index_js_url="/cis527/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis527/css/custom.css?1724249590 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis527/6-application-servers/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Application Servers</span><meta itemprop=position content="1"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis527/5a-containers/09-kubernetes/ title="Kubernetes (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis527/6-application-servers/01-introduction/ title="Introduction (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable chapter narrow" tabindex=-1><div class=flex-block-wrapper><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 6</div><h1 id=application-servers>Application Servers</h1><p>Putting your resources to work.</p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Application Servers</h1><article class=default><header class=headline></header><h1 id=introduction>Introduction</h1><a href="https://www.youtube.com/watch?v=cwcdtAwZQBU">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=/cis527/6-application-servers/01-introduction-slides/>Slides</a></strong></li></ul><h4 id=video-transcript>Video Transcript</h4><p>Welcome to Module 6! In this module, we&rsquo;ll discuss the various types of servers that you may come across in a large organization. This could include file servers, web servers, application servers, database servers, and more!</p><p>In the lab assignment, you&rsquo;ll set up a file server on both Windows and Ubuntu, and deal with automatically providing access to those resources for your users. You&rsquo;ll also configure the IIS and Apache web servers, and learn about installing an application on each. Finally, we&rsquo;ll discuss some of the considerations for configuring a database server, and you&rsquo;ll work with setting up a database server on Ubuntu as well.</p><p>This lab is quite a bit more open-ended than previous assignments, as you&rsquo;ll have the ability to work with a web application of your choice. However, that can also make the lab a bit trickier, since each student may go about completing it in a slightly different way. This very closely mirrors what you&rsquo;d find in a real-world scenario, as every organization&rsquo;s needs are different, too.</p><p>As always, if you have any questions or run into issues, please post in the course discussion forums to get help. Good luck!</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=application-servers-overview>Application Servers Overview</h1><a href="https://www.youtube.com/watch?v=DKCaG4ZUs3Y">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=/cis527/6-application-servers/02-application-servers-overview-slides/>Slides</a></strong></li><li><a href=https://liquid-state.com/successfully-implementing-enterprise-software/ rel=external target=_blank>10 Tips for Successfully Implementing Enterprise Software</a> from Liquid State</li><li><a href=https://www.automationworld.com/article/technologies/erp/analysts-guide-evaluating-enterprise-software rel=external target=_blank>An Analyst&rsquo;s Guide to Evaluating Enterprise Software</a> from Automation World</li><li><a href=https://www.cio.com/article/2925639/enterprise-software/18-enterprise-software-selection-risks.html rel=external target=_blank>18 Enterprise Software Selection Risks and How to Avoid Them</a> from CIO.com</li></ul><h4 id=video-transcript>Video Transcript</h4><p>This module is all about application servers. So, before we begin talking about them in-depth, we should first discuss what an application server actually is.</p><p>In this class, I&rsquo;ll be referring to an application server as any server that runs an enterprise application. So far, in this course we&rsquo;ve dealt with setting up workstations, centralized authentication systems, network services, and cloud resources, but most of those are just the infrastructure for our enterprise. Most of the activity in our organization will happen on top of that infrastructure in a variety of application servers. They handle the backend processing and storage of data, as well as the frontend interface that our users will see, either on a website, mobile application, or custom software tool. In general, application servers, are the always on, always available resources that our infrastructure provides to our users.</p><p>There are many different types of application servers that your organization may use. These could include web servers such as Apache or IIS, database servers such as MySQL or Microsoft SQL Server, email servers, and even some file servers. Those servers could also run specialized application such as customer relationship management or CRM, inventory, accounting, and more. In this course, we&rsquo;ll primarily be dealing with web servers, file servers, and database servers, as they are most commonly used in a variety of enterprises.</p><p>One of the major tasks that any system administrator may face is to help your organization evaluate and choose new software. The choice of enterprise software is a very important decision, and can have a major impact on your organization&rsquo;s budget, flexibility, and success in the future. So, in this video, I&rsquo;ll discuss some considerations you should have in mind if you are ever asked to evaluate software for your organization.</p><p>The first step is to perform an evaluation of the software packages available for your needs, before you ever download or install them. Some things you might look at in this phase are the source of the software itself: is it a reputable company, an open-source project, or an unknown entity. Likewise, you could look at the available support offerings, knowledgebase, and user community around the software. If the community is active and the support documentation is well written, it is generally a very good sign. You might also look at the company&rsquo;s history and coding practices if you can find any information about either of those. If the company has a history of good software, or, conversely a history of major flaws and bugs, that should weigh into your decision as well. Depending on your needs, you might also explore options for extending the software and integrating it into your existing infrastructure. Finally, it&rsquo;s always a good idea to read some reviews and seek recommendations from others. If your organization works in a unique field, it might be worth contacting some of your peers to see what they are using and what their experience has been. In many cases, they can direct you to the best option available, or let you avoid the mistakes they&rsquo;ve made along the way. And all of this comes before you&rsquo;ve even looked at the software itself!</p><p>Once you have a few candidates that you&rsquo;d like to test, you should go through the process of installing or using each one. As you do so, you&rsquo;ll want to make a note of any other software or tools that are needed to work with the application you are reviewing. You&rsquo;ll also be on the lookout for system requirements, such as storage, RAM and CPU usage. In addition, you should look at how easy it is to get data in and out of the system. One of the major frustrations with enterprise software is &ldquo;vendor lock-in,&rdquo; which happens when all of your data is tied to a particular software program or vendor, and there is no easy way to move to a new system. Next, you&rsquo;ll want to consider how easy it was to configure the software. Does it have all the options you need, or are there parts of the system that are difficult to work with for you as an administrator, or possibly for your users. Finally, as you work with the software, you&rsquo;ll definitely want to use tools such as Wireshark to monitor any network traffic on your systems. While it is rare, some applications can have major security flaws or even be compromised before installation, so you should always be on the lookout for unusual network traffic when evaluating new software.</p><p>Lastly, you&rsquo;ll need to extensively test the software for usability with your users and customers. Even if the software itself is high quality, if your users are unable to use it effectively, it could be worse than not having any software at all. As you work with a group of users to beta test the system, you&rsquo;ll want to monitor many aspects of how the system performs, such as the system load and load balancing needed. You should also continue to monitor the network traffic, and ensure that any data sent across the network is properly encrypted. Remember our example from Lab 3 with Apache authentication - just because it is unreadable doesn&rsquo;t mean that it is properly encrypted, so you may have to consult the documentation or a security expert if you aren&rsquo;t sure.</p><p>In addition, you may also want to look at how easy it is to deploy updates to the system. Does it require a large amount of downtime, or is it relatively seamless? You could also look at features such as logging and accountability. Are you able to tell which users are accessing the system, and what they are doing? It could help you diagnose problems, but also detect when users are acting maliciously. In many cases, security issues are the result of insider threats, so having a good idea of what your users are doing is very important. Finally, you should always evaluate the accessibility of the software. Does it work well with assistive devices such as a screen reader or alternative input devices? Would colorblind users have issues interacting with the software? Sometimes this can be as simple as having red and green buttons or icons with no text on them - a colorblind user would not be able to tell the difference between them.</p><p>Of course, there are many, many more things you should consider when choosing software for any organization. My hope is that this will give you at least some idea of what that process looks like. The rest of this module will deal primarily with how to configure and work with a variety of application servers, including file servers, web servers, and database servers.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=assignment>Assignment</h1><h3 id=lab-6---application-servers>Lab 6 - Application Servers</h3><h4 id=instructions>Instructions</h4><p>Create <strong>two</strong> cloud systems and <strong>four</strong> virtual machines meeting the specifications given below. The best way to accomplish this is to treat this assignment like a checklist and check things off as you complete them.</p><p>If you have any questions about these items or are unsure what they mean, please contact the instructor. Remember that part of being a system administrator (and a software developer in general) is working within vague specifications to provide what your client is requesting, so eliciting additional information is a very necessary skill.</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p><em>To be more blunt - this specification may be purposefully designed to be vague, and it is your responsibility to ask questions about any vagaries you find. Once you begin the grading process, you cannot go back and change things, so be sure that your machines meet the expected specification regardless of what is written here. &ndash;Russ</em></p></div></div><p>Also, to complete many of these items, you may need to refer to additional materials and references not included in this document. System administrators must learn how to make use of available resources, so this is a good first step toward that. Of course, there&rsquo;s always <a href=http://www.google.com rel=external target=_blank>Google</a>!</p><h4 id=time-expectation>Time Expectation</h4><p>This lab may take anywhere from <strong>1 - 6 hours</strong> to complete, depending on your previous experience working with these tools and the speed of the hardware you are using. Configuring application servers is very time-consuming the first time through the process, but it will be much more familiar by the end of this course.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p><em>This lab involves working with resources on the cloud, and will require you to sign up and pay for those services. In general, your total cost should be low, usually around $20 total. If you haven&rsquo;t already, you can sign up for the <a href=https://education.github.com/pack rel=external target=_blank>GitHub Student Developer Pack</a> to get discounts on most of these items. If you have any concerns about using these services, please contact me to make alternative arrangements! &ndash;Russ</em></p></div></div><hr><h3 id=task-0-droplets--virtual-machines>Task 0: Droplets & Virtual Machines</h3><p>For this lab, you will continue to use the two DigitalOcean droplets from Lab 5, labelled <strong>FRONTEND</strong> and <strong>BACKEND</strong>, respectively. This assignment assumes you have completed all steps in Lab 5 successfully; if not, you should consult with the instructor to resolve any existing issues before continuing.</p><p>You will also need a Windows Server 2019 VM configured as an Active Directory Domain Controller, along with a Windows 10 VM added as a client computer on that domain. In general, you may continue to use the resources created in Lab 4, but you may choose to recreate them as directed in Lab 4 if desired.</p><p>In addition, you will need two Ubuntu VMs, one labelled <strong>SERVER</strong> and the other labelled <strong>CLIENT</strong>. You may continue to use the Ubuntu VMs from Labs 3 and 4, or create new VMs for this lab. This lab does not assume any existing setup on these VMs beyond what is specified in Labs 1 and 2. You should also make sure your Ubuntu VM labelled <strong>SERVER</strong> has a static IP address.</p><hr><h3 id=task-1-windows-file-server>Task 1: Windows File Server</h3><p>Configure a file server on your Windows Server 2019 VM. It should have the following features:</p><ul><li>A shared folder on the server named <code>public</code> and stored at <code>C:\public</code> that should be accessible by all users on your domain</li><li>A shared folder on the server named <code>admins</code> and stored at <code>C:\admins</code> that should only be accessible to users in the Domain Admins group in your domain</li></ul><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>As of Summer 2021, there was a bug in Windows Server that prevented the built-in Administrator account from changing some settings, specifically network settings, once the server is promoted to a domain controller. This can make it difficult to fix networking issues in this or future labs. The easy fix for this is to copy the Administrator account in the Active Directory User and Computers tool and give the new copy a different name, such as &ldquo;Admin&rdquo;, and then use that account to log on to the server.</p></div></div><h4 id=resources>Resources</h4><ul><li><a href=https://www.tactig.com/share-files-folders-windows-server-2016/ rel=external target=_blank>How to Share Files and Folders in Windows Server 2016</a> from Tactig (should work for Server 2019)</li></ul><hr><h3 id=task-2-windows-group-policy>Task 2: Windows Group Policy</h3><p>Configure group policy objects (GPOs) on your Windows Active Directory domain to perform the following tasks:</p><ul><li>All domain users should get the <code>public</code> folder automatically mapped to the <code>Z:\</code> drive on any system they log into.</li><li>Users in the <code>Domain Admins</code> group should also get the <code>admins</code> folder automatically mapped to the <code>Y:\</code> drive on any system they log into.<ul><li>That drive <strong>should not</strong> be mapped for any user that is not a member of the <code>Domain Admins</code> group.</li></ul></li></ul><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p><em>Pay close attention to how you attach and target these GPOs in the domain. You can use the domain Administrator account and the other domain account created in Lab 4 to test these on your Windows 10 client. &ndash;Russ</em></p></div></div><h4 id=resources-1>Resources</h4><ul><li><strong><a href=/cis527/4-directory-services/06-windows-group-policy/>Windows Group Policy</a></strong></li><li><a href=https://activedirectorypro.com/map-network-drives-with-group-policy/ rel=external target=_blank>How to Map Network Drives with Group Policy (Complete Guide)</a> by Robert Allen on Active Directory Pro</li><li><a href=https://community.spiceworks.com/how_to/79280-mapping-network-drives-folders-via-group-policy rel=external target=_blank>How to: Mapping Network Drives/Folders via Group Policy</a> on Spiceworks Community</li></ul><hr><h3 id=task-3-ubuntu-file-server>Task 3: Ubuntu File Server</h3><p>Configure a file server using Samba on your Ubuntu VM labelled <strong>SERVER</strong>. It should have the following features:</p><ul><li>A shared folder on the server named <code>public</code> and stored at <code>/public</code> that should be accessible by all Samba users</li><li>Enable shared home directories in Samba using the default <code>[homes]</code> share.</li><li>Enable the <code>cis527</code> user in the Samba password database. It should use the same <code>cis527_linux</code> password as the actual <code>cis527</code> account.</li></ul><p>Of course, you may need to modify your firewall configuration to allow incoming connections to the file server! <strong>If your firewall is disabled and/or not configured, there will be a deduction of up to 10% of the total points on this lab</strong></p><h4 id=resources-2>Resources</h4><ul><li><a href=https://ubuntu.com/server/docs/samba-file-server rel=external target=_blank>File Server</a> from Ubuntu Documentation</li><li><a href=https://help.ubuntu.com/community/Samba/SambaServerGuide rel=external target=_blank>Samba Server Guide</a> from Ubuntu Community Help Wiki</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-a-samba-share-for-a-small-organization-on-ubuntu-16-04 rel=external target=_blank>How to Set Up a Samba Share for a Small Organization on Ubuntu 16.04</a> from DigitalOcean (works for 20.04)</li><li><a href=https://websiteforstudents.com/access-user-home-folders-via-samba-on-ubuntu-17-04-17-10/ rel=external target=_blank>Access User&rsquo;s Home Folders via Samba on Ubuntu 17.04</a> from Website for Students (works for 20.04)</li><li><a href=https://linuxconfig.org/how-to-configure-samba-server-share-on-ubuntu-20-04-focal-fossa-linux rel=external target=_blank>How to Configure Samba Server Share on Ubuntu 20.04 Focal Fossa Linux</a> from LinuxConfig.org</li></ul><hr><h3 id=task-4-ubuntu-drive-mapping>Task 4: Ubuntu Drive Mapping</h3><p>Configure your Ubuntu VM labelled <strong>CLIENT</strong> to automatically access the Samba shares in the following manner:</p><ul><li>Add an entry to <code>\etc\fstab</code> to automatically mount the <code>public</code> folder to <code>/mnt/public</code> at system boot. It should be readable and writable by all users.</li><li>Use <code>libpam-mount</code> to automatically mount a user&rsquo;s <code>homes</code> share from the server at login. This only needs to work for the <code>cis527</code> user, as that user should be present on both systems and Samba.</li></ul><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p><em>To be honest, this last part can be pretty tricky. I recommend following the instructions in this video in this module very carefully. If you have any issues, you can enable debugging and review <code>/var/log/syslog</code> for errors. &ndash;Russ</em></p></div></div><h4 id=resources-3>Resources</h4><ul><li><a href=https://wiki.ubuntu.com/MountWindowsSharesPermanently rel=external target=_blank>Mount Windows Shares Permanently</a> from Ubuntu Wiki</li><li><a href=https://askubuntu.com/questions/434358/how-do-i-access-windows-shares-from-bash rel=external target=_blank>How Do I Access Windows Shares from Bash</a> on Ask Ubuntu Forums</li><li><a href="https://ubuntuforums.org/showthread.php?t=1375653" rel=external target=_blank>Use of pam-mount to Mount Home from Server</a> on Ubuntu Forums</li><li><a href=http://manpages.ubuntu.com/manpages/bionic/man8/pam_mount.8.html rel=external target=_blank>pam_mount</a> on Ubuntu Manpages</li><li><a href=http://manpages.ubuntu.com/manpages/bionic/man5/pam_mount.conf.5.html rel=external target=_blank>pam_mount.conf</a> on Ubuntu Manpages</li></ul><hr><h3 id=task-5-windows-web-application-server>Task 5: Windows Web Application Server</h3><p>For this task, you will install and configure a .NET web application for IIS on your Windows Server 2016 VM. First, choose an application to install from the following list:</p><ul><li><a href=https://blogengine.io/docs/get-started/ rel=external target=_blank>BlogEngine.NET</a><ul><li><strong>NOTE</strong>: If you choose BlogEngine.NET, make sure you read their site carefully. You don&rsquo;t have to sign up for anything on their site to download the software itself, but the download link tends to be hidden in favor of their hosted options. As a sysadmin, you should definitely get into the habit of carefully reading and considering what you find online before you click!</li></ul></li></ul><p>If you would like to work with an application not listed here, please contact the instructor. The application should have some sort of functionality beyond just displaying static pages. Any approved application can be added to this list for you to use. <strong><em>You are not allowed to use JitBit&rsquo;s .NET Forum, as that was demonstrated in the video in this module.</em></strong></p><p>Once you have selected your application, perform the following configuration steps:</p><ol><li>Create two websites in IIS: <code>blog.&lt;your eID>.cis527.cs.ksu.edu</code> and <code>site.&lt;your eID>.cis527.cs.ksu.edu</code>. They should be stored in <code>C:\inetpub\blog</code> and <code>C:\intepub\site</code>, respectively. For the <code>blog</code> site, make sure you choose the <code>.NET v4.5</code> Application Pool!</li><li>Add a DNS forward lookup zone for <code>&lt;your eID>.cis527.cs.ksu.edu</code> to the Windows DNS server, and then add A records for the two sites described above. They should both point to the Windows Server&rsquo;s IP address ending in <code>.42</code>.</li><li>Place a static HTML file inside of the <code>C:\intepub\site</code> folder and confirm that you can access it using Firefox at <code>http://site.&lt;your eID>.cis527.cs.ksu.edu</code></li><li>Follow the instructions to install and configure your chosen application in <code>C:\inetpub\blog</code>. Pay special attention to any file permissions required. Use the <code>IIS_IUSRS</code> group when adding write permissions to any folders as described in the instructions. You should be able to access it at <code>http://blog.&lt;your eID>.cis527.cs.ksu.edu</code> using Firefox.</li><li>Create a self-signed SSL certificate and attach it to both websites by adding an additional binding for HTTPS. Make sure you can access both websites using <code>https://</code>.</li><li>Use the URL Rewrite module to configure URL redirection to automatically direct users from HTTP to HTTPS for both websites.</li></ol><p>Once these steps are complete, visiting <code>http://blog.&lt;your eID>.cis527.cs.ksu.edu</code> in your web browser should automatically redirect you to <code>https://blog.&lt;your eID>.cis527.cs.ksu.edu</code> and it should be secured using your self-signed certificate. You should also be able to demonstrate that the application is working properly by interacting with it in some meaningful way, such as logging in and making a new post on a blog. Finally, if you visit <code>http://site.&lt;your eID>.cis527.cs.ksu.edu</code> you should see the static content from that site instead of the blog, and it should also properly redirect to HTTPS.</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p><em>I recommend using Firefox for testing. Edge & Internet Explorer on Windows Server are locked-down by default and can be very frustrating to work with. See, I knew you&rsquo;d appreciate having Firefox installed on your Windows server! &ndash;Russ</em></p></div></div><h4 id=resources-4>Resources</h4><ul><li><strong><a href=https://www.iis.net/downloads/microsoft/url-rewrite rel=external target=_blank>URL Rewrite</a> from Microsoft</strong></li><li><a href=https://www.ionos.com/community/server-cloud-infrastructure/windows-server/add-a-website-to-windows-server-2016-using-host-headers/ rel=external target=_blank>Add A Website to Windows Server 2016 using Host Headers</a> from Ionos by 1&amp;1</li><li><a href=https://computingforgeeks.com/how-to-add-dns-forward-lookup-zone-in-windows-server/ rel=external target=_blank>How to add DNS Forward Lookup Zone in Windows Server 2019</a> from Computingforgeeks</li><li><a href=https://computingforgeeks.com/how-to-add-dns-a-ptr-record-in-windows-server/ rel=external target=_blank>How to add DNS A/PTR Record in Windows Server 2019</a> from Computingforgeeks</li><li><a href=https://aboutssl.org/how-to-create-a-self-signed-certificate-in-iis/ rel=external target=_blank>How to Create a Self Signed Certificate in IIS</a> from AboutSSL</li><li><a href=https://www.sslsupportdesk.com/microsoft-server-2016-iis-10-10-5-ssl-installation/ rel=external target=_blank>Microsoft Server 2016 - IIS 10 & 10.5 - SSL Installation</a> from SSLSupportDesk</li><li><a href=https://helpdesk.ssls.com/hc/en-us/articles/115000853911-How-to-install-a-SSL-certificate-on-IIS-10 rel=external target=_blank>How to Install a SSL Certificate on IIS 10</a> from SSLs.com</li><li><a href=https://www.namecheap.com/support/knowledgebase/article.aspx/9953/38/setting-up-an-httphttps-redirect-in-iis rel=external target=_blank>Setting up an HTTP/HTTPS Redirect in IIS</a> from Namecheap</li></ul><hr><h3 id=task-6-ubuntu-web-application-server>Task 6: Ubuntu Web Application Server</h3><p>For this step, you will install and configure a web application running on Apache in Ubuntu on your DigitalOcean droplets. First, choose an application to install from the following list:</p><ul><li><a href=https://wordpress.org/download/ rel=external target=_blank>Wordpress</a></li></ul><p>If you would like to work with an application not listed here, please contact the instructor. The application should have some sort of functionality beyond just displaying static pages, and must support using a MySQL database on a separate host from the web server. In addition, the application must be installed manually - using pre-built images or Apt packages is not allowed here. Any approved application can be added to this list for you to use. <strong><em>You are not allowed to use phpBB, as that was demonstrated in the video in this module.</em></strong></p><p>Once you have selected your application, choose <strong>ONE</strong> of the following configuration options:</p><h5 id=option-1-bare-hardware>Option 1: Bare Hardware</h5><ol><li>Install MySQL (and optionally phpMyAdmin) on your Ubuntu droplet labelled <strong>BACKEND</strong> and configure an appropriate username and database for your application. You should also enable SSL/TLS encryption on connections to the server if it is not already enabled in MySQL (this should be enabled by default in Ubuntu 20.04). When creating the user account in MySQL, make sure it is set to log in from the private network IP address of <strong>FRONTEND</strong>.<div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p><em>You may need to configure MySQL to listen on an external network interface. Make sure you use the private network IP address only - it should not be listening on all network interfaces. In addition, you will also have to open ports on the firewall, and you should restrict access to those ports to only allow connections from the private network IP address of <strong>FRONTEND</strong>, just like the SSH server in Lab 5. Points will be deducted for having a MySQL server open to the internet! &ndash;Russ</em></p></div></div></li><li>Install Apache and configure a new virtual host in Apache for your web application on <strong>FRONTEND</strong>. Also, add an appropriate A record to your domain name created in Lab 5 for this virtual host. You may shut down any Docker containers from Lab 5 that interfere with this configuration.</li><li>Install your web application on your Ubuntu droplet labelled <strong>FRONTEND</strong> following the application&rsquo;s installation instructions. When configuring the database for your application, you should have it use the MySQL database on <strong>BACKEND</strong> via the private network IP address.</li><li>Of course, you may need to modify your firewall configuration to allow incoming connections to the database server! <strong>If your firewall is disabled and/or not configured, there will be a deduction of up to 10% of the total points on this lab</strong></li></ol><h5 id=option-2-docker>Option 2: Docker</h5><ol><li>Create two Docker containers on <strong>FRONTEND</strong>, one containing MySQL and another containing Wordpress. You may optionally add a container running phpMyAdmin if desired. The MySQL container must be isolated on its own internal network that cannot access the outside internet.</li><li>Add an appropriate A record to your domain name created in Lab 5 for this docker container. You will also need to update your reverse proxy to properly route traffic to the Wordpress container.</li><li>Make sure that Wordpress is properly configured via environment variables in Docker.</li></ol><p>Once these steps are complete, you should be able to visit your web application via HTTP and then interact with the application in some meaningful way to confirm that the database connection is working.</p><h4 id=resources-5>Resources</h4><ul><li><a href=https://hub.docker.com/_/wordpress rel=external target=_blank>Docker Wordpress Image</a></li><li><a href=https://linuxconfig.org/install-mysql-on-ubuntu-20-04-lts-linux rel=external target=_blank>Install MySQL on Ubuntu 20.04 LTS Linux</a> from LinuxConfig.org</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-22-04 rel=external target=_blank>How To Install MySQL on Ubuntu 22.04</a> from DigitalOcean (follow instructions in guide above to configure MySQL to listen on all network interfaces)</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-22-04 rel=external target=_blank>How To Install and Secure phpMyAdmin on Ubuntu 22.04</a> from DigitalOcean</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-22-04 rel=external target=_blank>How To Install the Apache Web Server on Ubuntu 22.04</a> from DigitalOcean</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-22-04 rel=external target=_blank>How To Secure Apache with Let&rsquo;s Encrypt on Ubuntu 22.04</a> from DigitalOcean</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-a-remote-database-to-optimize-site-performance-with-mysql-on-ubuntu-20-04 rel=external target=_blank>How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 20.04</a> from DigitalOcean (works for 22.04)</li></ul><hr><h3 id=task-7-make-snapshots>Task 7: Make Snapshots</h3><p>In each of the virtual machines created above, create a snapshot labelled &ldquo;Lab 6 Submit&rdquo; before you submit the assignment. The grading process may require making changes to the VMs, so this gives you a restore point before grading starts.</p><h3 id=task-8-schedule-a-grading-time>Task 8: Schedule A Grading Time</h3><p>Contact the instructor and schedule a time for interactive grading. You may continue with the next module once grading has been completed.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=file-servers-overview>File Servers Overview</h1><a href="https://www.youtube.com/watch?v=BCYgjyywcFU">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=/cis527/6-application-servers/04-file-servers-overview-slides/>Slides</a></strong></li><li><a href=https://en.wikipedia.org/wiki/Standard_RAID_levels rel=external target=_blank>Standard RAID Levels</a> on Wikipedia</li><li><a href=https://en.wikipedia.org/wiki/Nested_RAID_levels rel=external target=_blank>Nested RAID Levels</a>on Wikipedia</li><li><a href=http://crystalclearmaths.com/videos-learning-resources/fun-stuff/parity/ rel=external target=_blank>Parity</a> from Crystal Clear Mathematics</li><li><a href=https://blog.ubuntu.com/2015/05/18/what-are-the-different-types-of-storage-block-object-and-file rel=external target=_blank>What are the Different Types of Storage: Block, Object and File?</a> on Ubuntu Blog</li><li><a href=https://blog.seagate.com/business/nas-vs-san-vs-das-which-is-right-for-you/ rel=external target=_blank>NAS vs. SAN vs. DAS: Which is Right for You?</a> from Seagate Blog</li><li><a href=https://vanillavideo.com/blog/2014/started-storage-understanding-san-nas-das rel=external target=_blank>Getting Started with Storage: Understanding SAN vs NAS vs DAS</a> from Vanilla Video</li><li><a href=http://www.virtualizationsoftware.com/storage-education-learning-resources-vmware-admins/ rel=external target=_blank>Storage Education and Learning Resources for VMware Admins</a> from VirtualizationSoftware.com</li></ul><h4 id=video-transcript>Video Transcript</h4><p>The first type of application server we will cover in this module is the file server. In essence, a file server is simply a system on the network that is responsible for sharing files and storage resources to users in our organization. While that may seem simple on the surface, there is quite a bit going on behind the scenes.</p><p>Of course, the major component of any storage server is the actual storage medium itself. Typically most servers today use either the traditional, rotational hard disk drive, or HDD, or the newer solid state drives, or SSD. Each one has significant tradeoffs in terms of storage size, price, and performance, so you should look at each option closely to determine which one is best for your organization.</p><p>Once you have your storage, you&rsquo;ll also need to understand how it is viewed by your computer or operating system. Typically storage devices can be accessed in one of three ways. Most computers use a file storage system, where data is stored and represented as files in a hierarchical file system. This is what we have been dealing with so far in this course. However, you can also use storage devices as block storage, which stores binary data in identically sized blocks. In fact, the file systems you are familiar with are actually just abstractions on top of a block-based storage device. However, block storage might be preferred for some uses, such as databases or large files. Finally, you can also treat a storage device as an object store, where data is stored as independent objects on the disk, regardless of any underlying block structure. This is very uncommon right now, but it may become more common going forward. Amazon&rsquo;s Simple Cloud Storage Service, or S3, is a great example of object storage.</p><p>Another major concept in file servers is the use of RAID. RAID originally stood for &ldquo;Redundant Array of Inexpensive Disks,&rdquo;, but more recently it has been referred to as &ldquo;Redundant Array of Independent Disks&rdquo; as well. In a RAID, multiple disks are combined in unique ways to either increase the overall performance of the system, or to provide for better data protection in case of a failure. In some cases, RAID can even be used to achieve both goals. While you may not deal with RAID in a cloud environment, it is still very common on certain storage devices, so it is helpful to understand what it is.</p><p>RAID uses a variety of &ldquo;levels&rdquo; to determine how the disks are combined. There are several commonly used RAID levels, so I&rsquo;ll cover just a few of them. First is RAID 0, commonly known as &ldquo;striping.&rdquo; In this setup, each data file is split, or &ldquo;striped&rdquo; across two drives. In this way, any attempts to read or write the file are much faster than on a single drive, since they can work in tandem. However, if either drive experiences a failure, the data on both drives will be unusable. So, you gain performance, but it increases the risk of data loss.</p><p>RAID 1 is known as &ldquo;mirroring,&rdquo; and is effectively the opposite of RAID 0. In RAID 1, each data file is written in its entirety to each disk. So, the disks are perfect copies of each other. If one disk fails, the system can continue to run using the other disk, often without the user even noticing the difference. With RAID 1, you gain increased resistance to data loss, but it doesn&rsquo;t add any performance. Thankfully, RAID 1 can generally perform just about as well as a single drive, so there isn&rsquo;t much of a performance loss, either.</p><p>The next most commonly used RAID is RAID 5. Yes, RAID 2 through RAID 4 exist, but they aren&rsquo;t used very much in practice today. They are somewhat like B batteries in that regard. In RAID 5, typically four disks are used. When data is stored to the drive, it is written across three of them, with the fourth drive containing a &ldquo;parity&rdquo; section that can be used to verify the data. That parity sections are spread across each of the four drives, making read and write performance higher than if it was stored on a single drive. With this setup, if any one drive experiences a failure, the data on it can be reconstructed using the information present on the other three drives. With this setup, you can gain some performance over using a single drive, while still getting better data protection as well. Unfortunately, you have to give up one quarter of your storage space for this to work, but I&rsquo;d say it is probably worth it.</p><p>So, what is parity? At its core, parity is just a checksum value that is based on the other values in the data. For binary, typically we use either Even Parity or Odd Parity. In Even Parity, we would make sure that the data plus the parity bit has an even number of 1s, while in Odd Parity we would make sure there are an odd number of 1s. So, in this example, looking at the second line, we see that the data includes five 1s. To make it an even number of 1s, we would set the Even Parity bit to 1. If we are using Odd Parity instead, we would set it to 0. Then, if we lost any single bit in the original data, we could determine what it was just by looking at the remaining data and the parity bit. With RAID levels such as RAID 5, we can use that same trick to reconstruct data on a drive that failed, just by looking at the remaining drives. Pretty neat, right?</p><p>Back to RAID levels, RAID 6 is very similar to RAID 5, but with two different parity sections spread across typically 5 or more drives. RAID 6 is designed in such a way that any two drives can fail and the data will still be secure. As with RAID 5, RAID 6 also includes some performance boosts as well.</p><p>Lastly, RAID levels can sometimes be combined in unique ways. For example, RAID 1+0 is a RAID 0 made up of two RAID 1 setups. In this way, you can gain the performance boost of striping with the enhanced data protection of mirroring, all in a single RAID. There are many other ways that this can be done, depending on the number of disks you have available and the characteristics you&rsquo;d like your RAID to have.</p><p>Ok, so once you&rsquo;ve determined how to configure your disks, the next step is to create partitions. A partition is a division of a physical disk into multiple parts. Each partition can be used for different things, such as block storage, different file systems or operating systems, or even as swap space. Years ago, it was very common to partition disks several ways in order to store multiple operating systems on the same disk, or to separate the operating system from the data. However, as hard drives have grown in size and dropped in price, coupled with the rise of virtualization, it is very uncommon to have multiple data partitions on the same disk today. Your operating system may automatically manage a few small partitions for system recovery and boot information, but in general, you probably won&rsquo;t be dealing with partitions much in the future.</p><p>As you set up your file server, you may also have to deal with the various protocols that can be used to access the files. Most servers today typically use the Windows-based protocol Server Message Block or SMB, which is sometimes also referred to as the Common Internet File System or CIFS. Windows servers and clients natively use these protocols to share files, and Linux-based systems can use Samba to do the same. If files are being shared between multiple Linux systems, they could also use the Network File System or NFS protocol. In the lab assignment, you&rsquo;ll learn how to set up servers using the SMB protocol using Windows Server and Samba.</p><p>In addition, there are protocols for sharing files over the internet. The most commonly used are the File Transfer Protocol, or FTP, and the SSH File Transfer Protocol, or SFTP, which transfers files via an SSH-secured tunnel. Finally, some storage devices maybe accessed using lesser-known protocols such as the Internet Small Computer Systems Interface, or iSCSI, and the Fibre Channel Protocol, or FCP. These are typically used in storage area networks to access data stored on block devices, as well see a bit later in this video.</p><p>Another concern that comes with storage is the location of the storage itself. There are typically three ways to think about where to locate your storage. First, you can use DAS, or direct-attached storage. This would be large storage devices connected directly to your system, such as a large external hard drive. In some cases, this might be the best option since it is generally the simplest and cheapest. However, it isn&rsquo;t very flexible if you need to share that information with multiple systems.</p><p>The other two options are NAS, or network attached storage, and SAN, or a storage area network. As you can probably tell, these two terms are often confusing, so I&rsquo;ll try to explain them in detail.</p><p>This graphic shows the major difference between a NAS and a SAN. Network attached storage simply refers to storage that is available via a network. Typically, NAS is accessed at the file level, using protocols such as SMB or NFS. In essence, you can think of any dedicated file server as a NAS device. A SAN, on the other hand, is a collection of storage devices that are typically accessed at the block level by a file server, using protocols such as iSCSI or FCP. If a file server needs access to a large amount of storage, you might set up a SAN inside your datacenter, with several large-scale block storage devices that actually handle the storage of the data. Hopefully this helps you make sense of these two similar terms.</p><p>Lastly, I&rsquo;d like to introduce one major trend in storage, which is the concept of storage virtualization. Just like with hardware virtualization, it is possible to add a virtual layer between the physical storage devices and the systems using those devices. In that way, you could seamlessly migrate storage across multiple physical systems without interrupting access to the data. This diagram does a great job of showing how you could use different disks across a variety of hardware setups to create virtual datastores for your data. However, storage virtualization does come with a downside, being that the virtualization layer could represent a single point of failure in your infrastructure. So, you may have to carefully analyze the risks that such as setup would bring compared to the added flexibility it provides.</p><p>That should give you a pretty good overview of some common terms and concepts you&rsquo;ll come across when dealing with file servers. The next two videos will discuss some of the implementation steps for setting up your own file server in both Windows and Samba on Ubuntu.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=windows-file-server>Windows File Server</h1><a href="https://www.youtube.com/watch?v=kFagxkFgkkY">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=/cis527/4-directory-services/06-windows-group-policy/>Windows Group Policy</a></strong></li><li><a href=https://www.tactig.com/share-files-folders-windows-server-2016/ rel=external target=_blank>How to Share Files and Folders in Windows Server 2016</a> from Tactig</li><li><a href=https://activedirectorypro.com/map-network-drives-with-group-policy/ rel=external target=_blank>How to Map Network Drives with Group Policy (Complete Guide)</a> by Robert Allen on Active Directory Pro</li><li><a href=https://community.spiceworks.com/how_to/79280-mapping-network-drives-folders-via-group-policy rel=external target=_blank>How to: Mapping Network Drives/Folders via Group Policy</a> on Spiceworks Community</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;ll briefly walk you through the steps of setting up a file server in Windows Server 2016, as well as how to access those resources from a Windows 10 client on the same network. Finally, I&rsquo;ll discuss a bit of information about how to automatically map those resource as network drives on the client using Group Policy.</p><p>First, let&rsquo;s take a look at our server. I&rsquo;m using the same VMs from Lab 4 to continue this example. Your server probably already has the File Server role installed, but if not you can install it following the same process used to install the Active Directory Domain Services role in Lab 4.</p><p>In the Server Manger, you can click on the <strong>File and Storage Services</strong> role to view information about your server. There, you can see information about the storage volumes available on your server, as well as the shared folders. You should already see two shared folders on your system, named <code>NETLOGON</code> and <code>SYSVOL</code>. These are created for the Active Directory Domain Controller role, as they store important information about the domain, such as Group Policy Objects, or GPOs, that should be replicated to other systems on the domain. So, you shouldn&rsquo;t modify those shares!</p><p>If you&rsquo;d like to create a new shared folder, the first step is to create that folder on your system. I&rsquo;ll just create a folder in the root of the <code>C:\</code> drive called <code>share</code>. I&rsquo;ll also create a simple text file in that folder, just so it isn&rsquo;t empty. Next, I can either right-click the folder and configure the sharing options there, or I can share it through the wizard in the Server Manager. I&rsquo;ll do the second option, since it gives me a bit more control over the configuration for the shared folder.</p><p>In that wizard, I&rsquo;ll choose the &ldquo;SMB Share - Quick&rdquo; option since I don&rsquo;t need to set any advanced settings. Next, I&rsquo;ll set the location of the shared folder. In this case, since I&rsquo;ve already created it, I can click the <strong>Browse</strong> button at the bottom to select that folder. On the following screen, I can set some basic information about the shared folder, including the name and description of the share.</p><p>There are a few additional settings you can configure for the share, such as hiding files based on a user&rsquo;s permissions in the shared folder. I&rsquo;ll make sure I checkmark the option to &ldquo;Encrypt data access&rdquo; to protect any remote connections to this shared folder.</p><p>Next, you can set the permissions to access the share. To change them, click the <strong>Customize Permissions</strong> button. It is important to understand that a shared folder effectively has two sets of permissions - one set affecting access to the files and the folder itself, and another set, seen on the <strong>Share</strong> tab, that affects remote access to the files. In effect, you can limit who can access the files remotely, even if those users have permissions to access the files directly. I won&rsquo;t make any changes at this point, but for one of the shares in the lab assignment you may need to update the permissions at this point.</p><p>Finally, once everything is set correctly, I can click <strong>Create</strong> to create the shared folder. After it is created, I can see it in the Shares list inside the Server Manager.</p><p>There are a couple of ways to access the shared folder from a client on the same network. If network discovery is enabled, you can click the Network option on the left side of the Windows Explorer application to view servers on the network. However, in my experience, this option is usually the least successful, as Windows doesn&rsquo;t have a great history of being able to easily locate shared resources on the network.</p><p>Alternatively, you can always type two backslashes <code>\</code>, followed by either the computer name or IP address in the address bar of Windows Explorer to view the shares available on that system. So, for my example setup, I would enter either <code>\\cis527d-russfeld</code> or <code>\\192.168.40.42</code> to view the shares. I can then click on the shared folder name to view the files.</p><p>However, doing so might be a bit of a hassle for your users, so thankfully there are a few ways to make this process simpler. First, you can right-click on any shared drive and select the <strong>Map Network Drive</strong> option to create a mapped drive on your computer. In effect, this creates a shortcut in Windows Explorer directly to the shared folder, and it will assign it a drive letter just like the local disks on your system. For many users, this is a very simple way to make those network resources available.</p><p>However, you&rsquo;d have to do this process manually for each user who would like to have the network drive mapped, and on each computer they would access it from. That seems very inefficient, right? Thankfully, there is an even better way to handle this using a Group Policy Object.</p><p>In the Group Policy editor, there is an option to create drive maps as part of a Group Policy Object. Here, I&rsquo;ve configured a drive map to map that shared drive. Notice that I&rsquo;m referencing it by IP address instead of the server name. This helps the system find the drive quickly, since that IP address should always work without needing to query the domain to find the server on the network.</p><p>Once I&rsquo;ve created and enforced that Group Policy on the domain, I can switch back to the client and see if it works. One way to do so is to simply reboot the client and then log in again. When it reboots, it should receive the updated Group Policy Objects for the domain. However, if you&rsquo;d like to test it immediately, you can open a Command Prompt or PowerShell window, and use the command <code>gpupdate /force</code> to force a Group Policy update from the Domain Controller.</p><p>Once you&rsquo;ve updated the Group Policy, you should now see your newly mapped network drive in Windows Explorer. That&rsquo;s all it takes! From there, you should be able to complete the Windows File Server portion of Lab 6. Make sure you pay special attention to the permissions for each shared folder. You may also want to review the information from Module 4 regarding Windows Group Policy for a quick refresher.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=ubuntu-file-server>Ubuntu File Server</h1><a href="https://www.youtube.com/watch?v=xgqUcsNId20">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><a href=https://ubuntu.com/server/docs/samba-file-server rel=external target=_blank>File Server</a> from Ubuntu Documentation</li><li><a href=https://help.ubuntu.com/community/Samba/SambaServerGuide rel=external target=_blank>Samba Server Guide</a> from Ubuntu Community Help Wiki</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-a-samba-share-for-a-small-organization-on-ubuntu-16-04 rel=external target=_blank>How to Set Up a Samba Share for a Small Organization on Ubuntu 16.04</a> from DigitalOcean (works for 20.04)</li><li><a href=https://websiteforstudents.com/access-user-home-folders-via-samba-on-ubuntu-17-04-17-10/ rel=external target=_blank>Access User&rsquo;s Home Folders via Samba on Ubuntu 17.04</a> from Website for Students (works for 20.04)</li><li><a href=https://wiki.ubuntu.com/MountWindowsSharesPermanently rel=external target=_blank>Mount Windows Shares Permanently</a> from Ubuntu Wiki</li><li><a href=https://askubuntu.com/questions/434358/how-do-i-access-windows-shares-from-bash rel=external target=_blank>How Do I Access Windows Shares from Bash</a> on Ask Ubuntu Forums</li><li><a href="https://ubuntuforums.org/showthread.php?t=1375653" rel=external target=_blank>Use of pam-mount to Mount Home from Server</a> on Ubuntu Forums</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;ll walk you through the steps to set up a file server on Ubuntu using Samba. You&rsquo;ll learn how to share a particular folder, and I&rsquo;ll discuss what it takes to share the home folders for each user as well. Finally, I&rsquo;ll show you a bit of the process for making those shared folders available to your users on an Ubuntu client.</p><p>As before, I&rsquo;ll continue to use the VMs from Lab 4 for this example. Let&rsquo;s start on the server VM. First, if you haven&rsquo;t already, you&rsquo;ll need to install the Samba server:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install samba</span></span></code></pre></div><p>Next, I&rsquo;ll need to create a folder to share, as well as a file in that folder just so it isn&rsquo;t empty:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mkdir /shared
</span></span><span class=line><span class=cl>sudo touch /shared/file.txt</span></span></code></pre></div><p>Finally, since that folder should be accessible to everyone, I&rsquo;ll set the permissions on that folder accordingly:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chmod -R <span class=m>777</span> /shared</span></span></code></pre></div><p>Now that I have created my folder, I can work with Samba to share it with users on the network. There are a couple of different ways to accomplish this task. First, just like in Windows, you can right-click on the folder in Nautilus and access the sharing options there. For many users, this is the quickest and easiest way to share a folder on the network. However, for this example I&rsquo;ll show you how to share the folder directly in the Samba configuration file, which will give you a bit more control over the configuration.</p><p>So, let&rsquo;s open the Samba configuration file in Nano:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo nano /etc/samba/smb.conf</span></span></code></pre></div><p>As you scroll through that file, you&rsquo;ll see that there are many different settings that you can customize on your Samba server. Pay special attention to the section for sharing user home directories, as that will be very useful as you complete the lab assignment later.</p><p>To add a new share, I&rsquo;m going to add a few lines at the bottom of the file:</p><div class=highlight><pre tabindex=0><code class=language-conf data-lang=conf>[shared]
  comment = Shared Files
  path = /shared
  browseable = yes
  guest ok = no
  read only = no
  create mask = 0755</code></pre></div><p>Once you&rsquo;ve made your edits, you should test your configuration file&rsquo;s syntax:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>testparm</span></span></code></pre></div><p>If everything looks as it should, then you can restart the Samba server to enable your new configuration:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart smbd</span></span></code></pre></div><p>At this point, you may also need to adjust your firewall configuration to allow other systems on the network to access these shared resources. For this example, I have disabled my firewall for simplicity, but you&rsquo;ll need to make sure it is configured properly to receive full credit on your lab assignment.</p><p>Finally, we need to add users to our Samba server so they can access the resource remotely. Samba maintains a separate database of users since it cannot directly decrypt the password hashes stored in <code>/etc/shadow</code>, so it takes an extra step to enable our existing users to access shared resources via Samba. It is possible to configure Samba to use OpenLDAP for authentication, but the process is quite complex. I chose to leave that out of this exercise, but in an enterprise setting you may choose to do so.</p><p>To create and enable the <code>cis527</code> user in Samba, you can use the following commands:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo smbpasswd -a cis527
</span></span><span class=line><span class=cl>sudo smbpasswd -e cis527</span></span></code></pre></div><p>The first command will ask you to enter a password for this user. This password can be different from the user&rsquo;s password on the system. However, I recommend setting this to be the same password that the user would use to login via LDAP or locally on their system. This will allow the system to automatically mount that user&rsquo;s home folder shared from Samba, as we&rsquo;ll see later in this video.</p><p>Now, let&rsquo;s switch over to our Ubuntu client and see how to access a shared folder. First, in Nautilus, you can click the <strong>Other Locations</strong> option on the left to see the available servers on the network. If network discovery is working properly, you may see your Ubuntu server listed there and be able to click on it.</p><p>If not, you can search for the server just like you would on Windows. At the bottom of Nautilus, there should be a <strong>Connect to Server</strong> box. In that box, you would enter <code>smb://</code> followed by the name or IP address of the system you&rsquo;d like to connect to. So, in my example network, I would enter <code>smb://192.168.40.41</code> to find my server.</p><p>Once you can see the shares on the server, you can double-click a shared folder to mount it on your system. It should pop up a window asking for a username and password. If your shared folder supports guest access, you can select the &ldquo;Anonymous&rdquo; option at the top to open the folder as a guest user. Otherwise, choose the &ldquo;Registered User&rdquo; option and enter your Samba username and password in the appropriate boxes. You can generally leave the Domain box alone unless you have a specific domain or workgroup configured on your Samba server.</p><p>Also, note that if you enter the incorrect username and/or password, you might get a strange error stating &ldquo;Failed to mount Windows share: File Exists.&rdquo; This error simply means that it was unable to access the shared resource, and most likely it is due to an authentication error. It isn&rsquo;t really a helpful error message, is it?</p><p>Once you&rsquo;ve connected to the shared folder, you should see a shortcut to that folder appear on your Ubuntu desktop. You can also access that folder via Terminal, but it is quite buried. The folder is typically mounted in <code>/run/user/&lt;UID>/gvfs/</code> where <code>&lt;UID></code> is the numerical user ID of your user on Ubuntu.</p><p>Thankfully, there are a few other ways to mount these shared folders on your system. First, using the Terminal, you&rsquo;ll need to install the <code>cifs-utils</code> package:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install cifs-utils</span></span></code></pre></div><p>Then, you can mount that shared folder to the location of your choosing. I recommend first creating an empty folder in <code>/mnt</code> to act as a mount point:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mkdir /mnt/shared</span></span></code></pre></div><p>Then, you can use the <code>mount</code> command to mount the shared folder as a drive. For my example setup, I would use this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mount -t cifs -o <span class=nv>username</span><span class=o>=</span>cis527,dir_mode<span class=o>=</span>0777,file_mode<span class=o>=</span><span class=m>0777</span> //192.168.40.41/shared /mnt/shared</span></span></code></pre></div><p>Of course, you&rsquo;ll have to adjust the command to fit your setup. Now, I can access those shared files at <code>/mnt/shared</code> in Terminal as well.</p><p>Once I am finished, I can unmount that share using the Terminal as well:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo umount /mnt/shared</span></span></code></pre></div><p>To further automate this process, you can add an entry to the <code>/etc/fstab</code> file that gives the details for a shared folder that should be mounted automatically for each user on the system. You&rsquo;ll do just that for your lab assignment, so I won&rsquo;t cover the specific details here. As long as you are able to mount it using the commands above, it should be pretty straight-forward to adapt those settings to work in the <code>/etc/fstab</code> file.</p><p>Finally, you can also use <code>libpam-mount</code> to automatically mount drives on a per-user basis at login. This is especially useful if you want to automatically mount a user&rsquo;s home folder from a Samba server directly into their own home folder locally. To start, you&rsquo;ll need to install that library:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install libpam-mount</span></span></code></pre></div><p>Next, you can configure it by editing its configuration file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo nano /etc/security/pam_mount.conf.xml</span></span></code></pre></div><p>As you look through that file, you&rsquo;ll see quite a few default options already in place. Unfortunately, since the file is in an XML format, it is a bit difficult to read. You&rsquo;ll need to make a couple of changes. First, look for the entry:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;debug</span> <span class=na>enable=</span><span class=s>&#34;0&#34;</span> <span class=nt>/&gt;</span></span></span></code></pre></div><p>and change it to</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;debug</span> <span class=na>enable=</span><span class=s>&#34;1&#34;</span> <span class=nt>/&gt;</span></span></span></code></pre></div><p>to enable debugging. By doing so, you&rsquo;ll be able to see output in <code>/var/log/syslog</code> if this process doesn&rsquo;t work, and hopefully you&rsquo;ll be able to diagnose the error using that information.</p><p>Next, look for the line:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Volume definitions --&gt;</span></span></span></code></pre></div><p>and, right below that line, you&rsquo;ll add a line to define the shared folder you&rsquo;d like to mount automatically. For my example setup, I would use the following definition:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;volume</span> <span class=na>fstype=</span><span class=s>&#34;cifs&#34;</span> <span class=na>server=</span><span class=s>&#34;192.168.40.41&#34;</span> <span class=na>path=</span><span class=s>&#34;homes&#34;</span> <span class=na>mountpoint=</span><span class=s>&#34;/home/%(USER)/server&#34;</span> <span class=nt>/&gt;</span></span></span></code></pre></div><p>You&rsquo;ll have to adjust the options in that line to match your particular environment. Once you&rsquo;ve added your information, save and close the file.</p><p>Next, we&rsquo;ll need to make sure that the system is configured to use that module. To do so, examine the <code>common-session</code> configuration file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /etc/pam.d/common-session</span></span></code></pre></div><p>and look for this line in that file:</p><div class=highlight><pre tabindex=0><code>session optional    pam_mount.so</code></pre></div><p>If it isn&rsquo;t there, you&rsquo;ll need to add that line to the bottom of that file.</p><p>That should do it! To test your configuration, simply log out and log in again. If it works, you should now be able to see that user&rsquo;s home folder from the Samba server in the <code>server</code> folder in the home directory. It should also create shortcut on the Ubuntu desktop as well.</p><p>If it doesn&rsquo;t work, you&rsquo;ll want to review any error messages in the system log, The easiest way to find them is to search the system log for <code>mount</code> using the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /var/log/syslog <span class=p>|</span> grep mount</span></span></code></pre></div><p>For the lab assignment, you&rsquo;ll perform these steps for your environment in much the same way. It can be very tricky to get this working the first time, so be very careful as you edit these configuration files. If you aren&rsquo;t able to get it working, please post in the course discussion forums on Canvas to get assistance.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=web-servers-overview>Web Servers Overview</h1><a href="https://www.youtube.com/watch?v=Z7vKPgWf_Jc">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=/cis527/6-application-servers/07-web-servers-overview-slides/>Slides</a></strong></li><li><a href=https://en.wikipedia.org/wiki/Web_server rel=external target=_blank>Web Server</a> on Wikipedia</li><li><a href=https://en.wikipedia.org/wiki/LAMP_(software_bundle) rel=external target=_blank>LAMP (Software Bundle)</a> from Wikipedia</li><li><a href=https://en.wikipedia.org/wiki/Nginx rel=external target=_blank>Nginx</a> from Wikipedia</li><li><a href=https://news.netcraft.com/archives/category/web-server-survey/ rel=external target=_blank>Web Server Survey</a> from Netcraft</li></ul><h4 id=video-transcript>Video Transcript</h4><p>Another common type of application server in many enterprises is a web server. A web server is the software that is used to make websites available on the World Wide Web. So, it is responsible for listening and responding to HTTP requests. The software is typically designed so it can handle many simultaneous connections, and even serve multiple websites as we saw in Lab 5. Additionally, many web servers support features for caching and server-side scripting languages, making them a truly versatile platform for serving both web pages and web-based applications.</p><p>There are a three web servers that are currently the most commonly used on the internet today. We&rsquo;ll be looking at two of them in this module. The first is Apache. It was one of the earliest web servers, and because it was free and open source, it drove much of the early expansion of the web in the 1990s and 2000s. While Apache is technically available for a number of different platforms, it is most commonly found running on Linux systems. As of September 2018, it runs 23% of all websites on the internet, and 34% of all domain names use Apache, according to Netcraft. While it has been declining in market share over the past several years, Apache is still one of the most commonly used web servers on the internet today.</p><p>On many systems, Apache is typically part of the larger LAMP software stack. LAMP typically stands for &ldquo;Linux, Apache, MySQL, PHP&rdquo; but other databases and scripting languages also fit the initialism. As part of this lab&rsquo;s assignment, you&rsquo;ll install a LAMP stack and a web application running on that platform.</p><p>The next web server we should discuss is Nginx (pronounced &ldquo;engine-x&rdquo;). Nginx was developed as a successor to Apache, with a focus on high throughput and the ability to handle a large number of simultaneous connections. According to the documentation, it is able to handle 10,000 inactive connections on just 2.5 MB of RAM. While Nginx doesn&rsquo;t support as many scripting languages and plugins as Apache, it&rsquo;s high performance makes it a very popular choice for websites expecting a large amount of traffic. As of September 2018, Nginx powered 19% of websites and 23% of all domains on the internet, and it has been slowly climbing the ranks since its release.</p><p>The last web server we&rsquo;ll work with during this lab assignment is Microsoft&rsquo;s Internet Information Services, or IIS. IIS is included in all versions of Windows, though typically it is not installed by default on the consumer versions of the operating system. Like Apache, IIS is able to support web applications written in the .NET family of languages. As of September 2018, IIS powers 36% of websites on the internet, making it the most popular web server in that regard. However, it is only present on 26% of domains, putting it behind Apache in that metric.</p><p>As mentioned earlier, both Apache and IIS, as well as Nginx through the use of some additional software, are able to support a large range of scripting languages to power interactive web applications. Some of the more commonly used languages are listed here, from PHP and Python to the .NET family of languages, and even Java and JavaScript. As you work on this lab assignment, you&rsquo;ll get to learn a bit about how to work with web applications written in a couple of these languages.</p><p>The next few videos will cover the steps needed to complete the rest of this lab assignment. First, you&rsquo;ll need to make sure the web server is installed and configured properly. You&rsquo;ll also have to configure the domain name for the website, and handle installing a security certificate. Finally, you&rsquo;ll be able to install an application that uses one of the scripting languages supported by the server, and see how it all works together to present a web application to your users.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=database-servers>Database Servers</h1><a href="https://www.youtube.com/watch?v=ZSkKniJcBl8">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=/cis527/6-application-servers/08-database-servers-slides/>Slides</a></strong></li><li><a href=https://blog.cloud66.com/5-tips-for-managing-database-servers-in-production/ rel=external target=_blank>5 Tips for Managing Database Servers in Production</a> from Cloud 66</li><li><a href=https://www.infoworld.com/article/3210905/sql/10-essential-performance-tips-for-mysql.html rel=external target=_blank>10 Essential Performance Tips for MySQL</a> by Baron Schwartz on InfoWorld</li><li><a href=https://www.itprotoday.com/sql-server/10-easy-tips-better-sql-server-performance rel=external target=_blank>10 Easy Tips for Better SQL Server Performance</a> from ITPro Today</li><li><a href=https://blog.heroix.com/blog/what-kind-of-disks-should-you-use-with-microsoft-sql-server-2016-part-1 rel=external target=_blank>What Kind of Disks Should You Use with Microsoft SQL Server 2016?</a> from Heroix Blog</li><li><a href=https://en.wikipedia.org/wiki/Database_encryption rel=external target=_blank>Database Encryption</a> on Wikipedia</li><li><a href=https://hln.com/encrypting-data-at-rest-on-servers-what-does-it-get-you/ rel=external target=_blank>Encrypting Data at Rest on Servers: What Does it Get You?</a> from HLN Consulting</li></ul><h4 id=video-transcript>Video Transcript</h4><p>One of the other most commonly used application servers in an enterprise is a database server. You may also see the term &ldquo;Database Management System&rdquo; or &ldquo;DBMS&rdquo; used in some areas to refer to the same thing. A database server is typically the backbone of your organization&rsquo;s data storage, as it can be used to store and retrieve a large amount of data very efficiently. Depending on the server software, the data may be stored in large files on the file system, or the database server may work directly with a block-level storage device for even more performance.</p><p>Of course, since a database server is constantly reading and writing data, it has some very unique performance and storage needs. We&rsquo;ll discuss a few of those at the end of this video. In addition, as a system administrator, you&rsquo;ll definitely be tasked with creating backups, and you may also handle replication across multiple database servers. We&rsquo;ll spend a bit of time discussing backups in Module 7.</p><p>Unfortunately, working with database servers can be one of the most complex tasks a system administrator handles, and, in fact, many organizations use a different title, &ldquo;database administrator&rdquo; or &ldquo;DBA,&rdquo; to refer to staff who are primarily responsible for working with database servers. Because it is such a complex topic, we really won&rsquo;t be spending much time working directly with database servers other than performing basic setup and configuration. If you are interested in working with a particular database server, I encourage you to read some of the information in the resources section below the video to learn more about this topic.</p><p>There are a few different database systems that are commonly used in industry today. Unlike web servers, where the vast majority of organizations use one of just three systems, there are many more database servers widely in use today. I&rsquo;ll briefly talk about a few of the most common that you&rsquo;ll come across today.</p><p>First is MySQL, and its fork, MariaDB. MySQL was originally developed in the late 1990s as an open source project, freely licensed under the GPL. As with Apache, it gained widespread use and acceptance among Linux enthusiasts, and was a commonly used database in many open source projects such as WordPress and Drupal, as well as major websites such as Flickr, YouTube, and Twitter. In 2010, MySQL was acquired by Oracle, and while it still retains its open source status at this time, many developers feared that Oracle may eventually move the software to a proprietary license. So, MariaDB was created as a fork of MySQL to maintain a public license. MariaDB maintains full compatibility with MySQL, and the two systems can be used pretty much interchangeably in practice. As part of this lab assignment, you&rsquo;ll install and work with MySQL in the cloud.</p><p>Another commonly used database system is Postgres. Postgres is very similar to MySQL in terms of licensing and features, but it aims to be as &ldquo;standards compliant&rdquo; as possible. Because of this, many professionals prefer Postgres due to the fact that it meets some of the standards that MySQL does not.</p><p>Microsoft also has their own database server, named Microsoft SQL Server. This is typically used along with the .NET family of programming languages on Windows systems. While we won&rsquo;t work directly with Microsoft SQL Server, as part of the lab assignment you&rsquo;ll install a .NET web application which most likely uses a local database that is similar to Microsoft SQL Server.</p><p>Oracle, of course, is another major database system in use today. They are well known for providing enterprise-level database software, and have been doing so since the 1970s. Because of this, many older organizations have been using Oracle&rsquo;s database software for some time, including K-State. Most of K-State&rsquo;s central systems, including KSIS and HRIS, are built on top of Oracle database products.</p><p>Lastly, there are a number of new database systems that include features such as document or object storage and &ldquo;NoSQL&rdquo; schemas. One of the most popular of those is MongoDB. These systems are most commonly used with web applications and some big data analytics packages.</p><p>As I mentioned earlier, working with a database server presents some very interesting and unique performance considerations that you may have to deal with as a system administrator. First, you&rsquo;ll definitely be concerned with the amount of RAM that the system has available. Ideally, you&rsquo;d like to have plenty of RAM available for the system so that it can hold a large amount of data and indexes directly in memory, making requests as fast as possible. You&rsquo;ll also want to prevent paging of data if at all possible. If the server is unable to store everything it needs directly in RAM, it can make your server up to 50 times slower as it handles paging.</p><p>Your CPU speed is also a factor, as that impacts how quickly the system can perform indexing and querying of the data, especially if many complex queries are needed. In addition, another major concern is the read and write speeds of the filesystem. You may want to consider using high performance SSDs in your database server, coupled with a RAID configuration using RAID 1+0 or RAID 6 to gain additional performance and data security. There is a great discussion of these storage considerations linked in the resources section below the video.</p><p>Beyond the hardware, you may also have to deal with issues such as the network speed and throughput to your database server. In some cases, you may even need to install multiple network interfaces for a database system if you find that the network interface is constantly saturated but the database server itself is not running near capacity. Also, many database servers maintain a separate log file from the data, which is used to verify that data updates are made properly. For large systems, it is generally recommended to store that log file in a separate location, so that updates to both the data and the log file can be done in parallel. Finally, as with any system, you&rsquo;ll want to set up plenty of monitoring and alerts on your database server, so you can quickly respond to problems as they arise. We&rsquo;ll discuss a bit of information about monitoring in Module 7.</p><p>You&rsquo;ll also need to spend some time thinking about the security of your database server. Just like with any other system, you&rsquo;ll want to make sure any network connections to and from this server are properly secured. Most database servers support using TLS to secure the connection between a database server and the application using it, but in many cases it must be configured and is not enabled by default. In general, it is also recommended to prevent external access to your database server. This is generally done through a firewall that only allows incoming connections from the application servers or a select number of internal IP addresses.</p><p>Another major concern with database servers is encryption. Depending on the type of data you are working with, there may be two different levels of encryption to consider. First, you should consider encrypting the data when it is at rest, or stored on the disk itself. Typically this is handled through full-disk encryption, file system encryption, or even encryption of the database tables themselves through the database server software. Each option comes with tradeoffs in terms of performance and security, so you should carefully research the options to determine the best choice for your environment.</p><p>Encrypting the data at rest, unfortunately, does not protect the data if a malicious user manages to gain access to the database system itself while it is running. So, you may also want to encrypt data stored in the tables themselves so that it is only readable by the application using the data. Some examples of data you may want to encrypt are usernames, email addresses, phone numbers, and any other personal information for your users. The details of how to do this properly are definitely outside the scope of this course, but there are many great resources online and elsewhere to learn how to secure data stored in an application.</p><p>Lastly, as a system administrator, you may want to keep an eye out for data being copied from your database server in an unexpected way. Typically, when a malicious user gains access to a database server, the first thing she or he will do is try to get a copy of that data on their own systems. This is called &ldquo;exfiltration,&rdquo; and is a major concern for enterprises. As part of your security and monitoring of your database server, you may want to watch for unexpected network connections leading outside of your organization, especially if they are coupled with an unusually large amount of network traffic. It could be a sign that someone is trying to get a copy of your databases.</p><p>As I mentioned earlier, this is just a brief introduction to working with database servers. You&rsquo;ll get a bit of experience with MySQL in this lab assignment, but if you are interested in learning more, I encourage you to take courses in database systems and seek additional resources online. Database administrators are always in demand, and it is a great career path to pursue.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=windows-web-server>Windows Web Server</h1><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>The first part of this video references ASP.NET 4.6, which has been replaced by ASP.NET 4.7 in Windows Server 2019.</p></div></div><a href="https://www.youtube.com/watch?v=DWkMRI5KVkk">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=https://www.iis.net/downloads/microsoft/url-rewrite rel=external target=_blank>URL Rewrite</a> from Microsoft</strong></li><li><a href=https://www.ionos.com/community/server-cloud-infrastructure/windows-server/add-a-website-to-windows-server-2016-using-host-headers/ rel=external target=_blank>Add A Website to Windows Server 2016 using Host Headers</a> from Ionos by 1&amp;1</li><li><a href=https://computingforgeeks.com/how-to-add-dns-forward-lookup-zone-in-windows-server/ rel=external target=_blank>How to add DNS Forward Lookup Zone in Windows Server 2019</a> from Computingforgeeks</li><li><a href=https://computingforgeeks.com/how-to-add-dns-a-ptr-record-in-windows-server/ rel=external target=_blank>How to add DNS A/PTR Record in Windows Server 2019</a> from Computingforgeeks</li><li><a href=https://aboutssl.org/how-to-create-a-self-signed-certificate-in-iis/ rel=external target=_blank>How to Create a Self Signed Certificate in IIS</a> from AboutSSL</li><li><a href=https://www.sslsupportdesk.com/microsoft-server-2016-iis-10-10-5-ssl-installation/ rel=external target=_blank>Microsoft Server 2016 - IIS 10 & 10.5 - SSL Installation</a> from SSLSupportDesk</li><li><a href=https://helpdesk.ssls.com/hc/en-us/articles/115000853911-How-to-install-a-SSL-certificate-on-IIS-10 rel=external target=_blank>How to Install a SSL Certificate on IIS 10</a> from SSLs.com</li><li><a href=https://www.namecheap.com/support/knowledgebase/article.aspx/9953/38/setting-up-an-httphttps-redirect-in-iis rel=external target=_blank>Setting up an HTTP/HTTPS Redirect in IIS</a> from Namecheap</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;ll discuss some of the steps for installing and configuring the Internet Information Services, or IIS, web server on Windows Server 2016. This will set the stage for the next video, which will discuss the process for installing a .NET-based web application.</p><p>As before, I&rsquo;ll continue to use my Windows Server 2016 VM from previous labs. To install IIS, click on the <strong>Manage</strong> button in the Server Manager application, and select <strong>Add Roles and Features</strong>. From there, you&rsquo;ll follow the same steps you did when you installed the Active Directory Domain Services role, but this time choose the &ldquo;Web Server (IIS)&rdquo; role instead. Then, click <strong>Next</strong> a couple of times until you reach the <strong>Select Role Services</strong> page. There, you&rsquo;ll need to checkmark the option for &ldquo;HTTP Redirection,&rdquo; which can be found under the &ldquo;Web Server > Common HTTP Features&rdquo; list items. Also, enable the option for &ldquo;ASP.NET 4.6&rdquo; found under the &ldquo;Web Server > Application Development&rdquo; list items. When you do so, it may enable a few additional options. Finally, click <strong>Next</strong> once again, then click <strong>Install</strong> to install the new server role.</p><p>Once it has been installed, you should now see the new <strong>IIS</strong> option on the left side of the Server Manager application. Click that option to see information about your IIS server. To access the configuration options for that server, let&rsquo;s open the <strong>Internet Information Services (IIS) Manager</strong>, which can be found on the Tools menu in Server Manager, or by right-clicking the entry here.</p><p>IIS Manager provides a convenient way to manage and configure your IIS server. Starting on the home page, you&rsquo;ll see icons for a variety of features that you may want to configure for your server. For this video, I&rsquo;m going to go through the process of adding a new website to this server, as well as the steps to properly configure and secure it.</p><p>First, let&rsquo;s create the directory for our new site. I&rsquo;m going to create a new folder at <code>C:\inetpub\example</code> to store the website. The <code>C:\inetpub</code> folder on Windows is the default location for IIS to place files, so it is a good logical place for this to be stored. Then, inside of that folder, I can place a simple file named <code>index.html</code> to act as the homepage for this website. I&rsquo;ll add a bit of text to the file as well, just so it is clear that we are accessing the correct file when we navigate to it later.</p><p>In the list on the left side of IIS Manager, expand the entry for your server, and then right-click the <strong>Sites</strong> folder and select <strong>Add Website</strong>. In the window that appears, give your website a name and a path. I&rsquo;m going to point it at the folder I created at <code>C:\inetpub\example</code> for this website. Lastly, I&rsquo;m going to configure the binding for the site by entering the host name I&rsquo;d like to use for this website. I&rsquo;m going to use <code>example.local</code> for this website. Finally, I&rsquo;ll click <strong>OK</strong> to create the site.</p><p>Once the site is created, I can open up a web browser and navigate to <code>http://localhost</code> to see what the web server shows. Unfortunately, right now it just shows the default IIS page that we&rsquo;ve seen before. This is because we still have the default site enabled on our system. If we try to navigate to <code>http://example.local</code> to access our site, that doesn&rsquo;t work either. This is because our web browser will try to use DNS to look up that website, but currently <code>.local</code> is not a valid TLD.</p><hr><p>So, to test this website, we&rsquo;ll need to add a few entries to our DNS server.</p><p>Since our Windows server is a domain controller, it also includes a built-in DNS server. So, we can add a few A records to our DNS server to point to our websites. To access the DNS information in Windows Server, we&rsquo;ll go to the Server Manager, and then look for the DNS entry on the left side. This will show information about the DNS servers in our domain. Right now there is just one, our domain controller. To modify the DNS information, we can right-click on that server and choose the <strong>DNS Manager</strong> option.</p><p>In this window, we can expand the entry for our server on the left, and then we should see some information that looks familiar to us based on what we learned in Lab 3. The Windows DNS server uses the same concept of forward and reverse zones, just like we saw in Bind. So, let&rsquo;s go to the <strong>Forward Lookup Zones</strong> option.</p><p>Here, we can see a couple of zones for our Active Directory, which are automatically maintained by the Active Directory Server. So, we will just leave these alone. Instead, let&rsquo;s create a new forward zone. In the wizard, we want to create a new primary zone, but we don&rsquo;t want to store that information in the Active Directory. If we don&rsquo;t uncheck this option, we are limited to only creating zones within our AD domain, which we don&rsquo;t want. In the next page, we&rsquo;ll use the zone name <code>local</code> to allow us to create DNS entries with the <code>.local</code> suffix. Of course, for the lab assignment, you may have to modify this to fit your environment. Finally, we&rsquo;ll choose to create a new zone file, and we&rsquo;ll disable dynamic updates to this DNS zone. Then, we can click Finish to create the zone.</p><p>Once the zone is created, we can open it and choose to add a <strong>New Host (A or AAAA)</strong> record. This is pretty simple - we&rsquo;ll just give it a host name and an IP address, just like we would expect. So, I&rsquo;ll use <code>example</code> as the host name, and <code>192.168.40.42</code> as the IP address to match my example.</p><p>There we go! No, we can open Firefox and navigate to <code>http://example.local</code> and it should open our webpage! This works because our Windows server was set to use itself as its primary DNS server way back in Lab 4, so it will look up these DNS names using the DNS server we just configured.</p><hr><p>Next, let&rsquo;s configure this website to use a secure connection and a public key certificate. Back in IIS Manager, select the server in the list of items on the left side, then open the <strong>Server Certificates</strong> option to the right. Here, I can click the <strong>Create Self-Signed Certificate</strong> option on the right-hand side to create a new certificate for our server. In the window that appears, I can give the certificate a name. In this case, I&rsquo;ll just use the name of my website, <code>example.local</code>. That&rsquo;s all it takes! We now have certificate we can use.</p><p>Next, we&rsquo;ll need to assign it to our site. To do this, right-click on your site in the left-hand list in IIS Manager, and select <strong>Edit Bindings</strong>. There, we&rsquo;ll add a new binding for type &ldquo;https&rdquo; and the same host name as before. Finally, at the bottom, we can select the certificate we just created as the security certificate for this website. Finally, click <strong>OK</strong> to save those changes.</p><p>We can test those settings by opening a web browser and navigating to <code>https://example.local</code>. However, at this point, most web browsers will complain about the connection being insecure. This is a bit misleading, as the connection will be properly encrypted just fine. However, since your browser cannot establish a chain of trust for the certificate, it is warning you that the website could be compromised and a malicious third-party could be on the other end of your connection. In this case, we know that the connection is safe, so I&rsquo;ll just click the option to add a security exception for this site. That should allow you to see the website once again, this time via HTTPS.</p><p>Finally, let&rsquo;s configure this website to automatically redirect users from HTTP to HTTPS, just like we&rsquo;ve done previously with Apache using Certbot. There are many ways to do this, but one of the simplest is to install the &ldquo;URL Rewrite&rdquo; module for IIS. I&rsquo;ll be closely following the guide from Namecheap that is linked in the resources section below the video, so feel free to refer to it as well for screenshots of this process.</p><p>First, I&rsquo;ll need to download and install the module. You can also find it linked in the resources section below this video. Once it is installed, you&rsquo;ll need to close and reopen IIS Manager. Now, if you select your site in the list on the left, you should see a new <strong>URL Rewrite</strong> option in the list of icons. To add a rule, double-click that icon to open its settings, then click the <strong>Add Rules</strong> option to the right.</p><p>From here, you should be able to follow the guide from Namecheap to set up the redirect rule. I won&rsquo;t demonstrate that full process here, as you&rsquo;ll need to do that as part of your lab assignment.</p><p>Now, let&rsquo;s test this setup. First, clear the cache of the web browser you are using for testing, just to be sure that we aren&rsquo;t still reading any cached information from that site. Then, navigate to <code>http://example.local</code>, and hopefully you should be redirected to <code>https://example.local</code> automatically.</p><p>As you can see, working with IIS is very similar to working with Apache. Some things are a bit easier to configure in IIS, while others are simpler in Apache in my opinion. Thankfully, many of the concepts are the same across all web browsers, so it is easy to adapt your knowledge to fit the current software you are using.</p><p>In the next video, I&rsquo;ll discuss the steps for installing a .NET web application on this server.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=windows-web-application>Windows Web Application</h1><a href="https://www.youtube.com/watch?v=eHLxBJgWszs">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><a href=https://www.jitbit.com/asp-net-forum/ rel=external target=_blank>.NET Forum</a> from JitBit</li><li><a href=https://www.microsoft.com/en-us/sql-server/sql-server-editions-express rel=external target=_blank>SQL Server 2017 Express Edition</a> from Microsoft</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;ll go through some of the basic steps to install a .NET web application on your server. For this example, I&rsquo;ll be using a trial version of the JitBit .NET Forum software, as it is a good representative example of what it takes to deploy an existing .NET application to your server.</p><p>First, I&rsquo;ll need to install Microsoft SQL Server Express Edition to use as the database server for this application. This is a compact version of the full Microsoft SQL Server that is designed for smaller applications and development. You can find a link to download that software in the resources section below this video. Once it has finished installing, you can click <strong>Close</strong> to exit the installer.</p><p>Next, I&rsquo;ll need to download the JitBit .NET Forum software from their website. I&rsquo;ve provided a link to that software in the resources section below this video as well. Feel free to download that software and follow along if you&rsquo;d like. However, you won&rsquo;t be able to use JitBit&rsquo;s .NET Forum as your web application for the lab assignment, as I&rsquo;d like you to demonstrate you can install a web application independently.</p><p>Once I&rsquo;ve downloaded the software, I can extract the ZIP file into my downloads directory. When you open that directory, you&rsquo;ll see a file that is very obviously the &ldquo;README&rdquo; for this application. In general, many applications will provide installation instructions either via their website or as part of the downloaded software. After all, if customers aren&rsquo;t able to install your software, they are not very likely to use it either. However, that doesn&rsquo;t mean that the installation instructions are always good, nor will they always exactly fit your needs either. So, you&rsquo;ll need to learn how to read the instructions and adapt them to fit your situation.</p><p>In this case, I&rsquo;m going to install this software on top of the existing website <code>example.local</code> that I created in the last video. So, I&rsquo;ll adapt these instructions just a bit to fit that setup.</p><p>First, I&rsquo;ll need to copy all of these files to the folder I created for this website, which is stored at <code>C:\inetpub\example</code>. You&rsquo;ll notice when you do so that it will overwrite the file named <code>web.config</code>, so we&rsquo;ll have to deal with that a bit later. Finally, I&rsquo;ll also need to delete the file named <code>index.html</code> that I created earlier.</p><p>Next, I&rsquo;ll need to convert the existing website to an application in IIS Manager. To do that, right-click the Example website in IIS Manager and choose <strong>Add Application</strong>. There, you&rsquo;ll give the application an alias, as well as the physical path to the files for this application. In addition, you&rsquo;ll need to choose the application pool. Since this application is using .NET 4.0, I can just use the &ldquo;DefaultAppPool&rdquo; here. When you click <strong>OK</strong> you should see your application appear in the menu to the left.</p><p>I&rsquo;ll also need to confirm that the website itself is configured to use the same application pool. You can do so by clicking the website in the list on the left, and then clicking the <strong>Basic Settings</strong> option on the far right.</p><p>Once you&rsquo;ve created your application, you&rsquo;ll need to change some file permissions. The official guide from JitBit recommends that you change the user identity used by your application pool, and then assign that account the permissions needed. So, to do that, I&rsquo;ll click on the <strong>Application Pools</strong> option on the left side of IIS Manager, and then right-click the <strong>DefaultAppPool</strong> and select <strong>Advanced Settings</strong>. In that window, find the <strong>Identity</strong> option, and change it to use the <strong>NetworkService</strong> built-in account. Click <strong>OK</strong> to save that setting.</p><p>Once that is done, I&rsquo;ll fully restart my IIS server to make sure the changes take effect. I can do so by right-clicking the server name in the list on the left, and then choosing <strong>Stop</strong>. I can then right-click it again and choose <strong>Start</strong> to start it again.</p><p>Now, navigate to where you stored the files for .NET Forum, and give the <strong>NetworkService</strong> account full control of the files in the <code>App_Data</code> folder. This allows your web application to store files in that folder.</p><p>Lastly, you&rsquo;ll need to configure the database connection. That information can be found in the <code>web.config</code> file in your application&rsquo;s directory. The instructions give a variety of options for configuring the database, but in general we can just use the default option to use SQL Server Express.</p><p>To test your application, clear the cache in your web browser once again, then navigate to <code>http://example.local</code>. You should see the application load with the title &ldquo;Acme Forum&rdquo; on the page. To test the application, you can log in with the default credentials listed in the instructions, and then create a new forum. If everything is working correctly, it should allow you to do this without any problems.</p><p>However, you should hopefully have noticed that it no longer redirected you to HTTPS when you loaded the website. Did you? When we created that URL redirect, it stored the settings in the <code>web.config</code> file that was previously located in this folder. So, we&rsquo;ll have to set that up again.</p><p>Once you do so, you should test it once again. Hopefully this time it should redirect properly. If you&rsquo;d like, you can also review the contents of the <code>web.config</code> file in the web application&rsquo;s directory to see the additional information added to that file by the URL Rewrite module.</p><p>That should do it! You&rsquo;ve now configured and deployed your first .NET web application in IIS. This example shows some of the details you may have to deal with when deploying a web application in IIS, but each application is different. In short, you&rsquo;ll always have to read the documentation carefully, but use your own knowledge and experience to adapt the instructions to match your own server&rsquo;s configuration. In addition, don&rsquo;t be afraid to search for additional information on the internet. All of those resources will help you to complete your task.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=ubuntu-web-server>Ubuntu Web Server</h1><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p><em>It appears that MySQL will now be installed with TLS enabled on Ubuntu 20.04, so you may not have to do that step. &ndash;Russ</em></p></div></div><a href="https://www.youtube.com/watch?v=a9-4tOoGHD0">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><a href=https://linuxconfig.org/install-mysql-on-ubuntu-20-04-lts-linux rel=external target=_blank>Install MySQL on Ubuntu 20.04 LTS Linux</a> from LinuxConfig.org</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-18-04 rel=external target=_blank>How To Install and Secure phpMyAdmin on Ubuntu 18.04</a> from DigitalOcean (works for 20.04)</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-20-04 rel=external target=_blank>How To Install the Apache Web Server on Ubuntu 20.04</a> from DigitalOcean</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-20-04 rel=external target=_blank>How To Secure Apache with Let&rsquo;s Encrypt on Ubuntu 20.04</a> from DigitalOcean</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-a-remote-database-to-optimize-site-performance-with-mysql-on-ubuntu-18-04 rel=external target=_blank>How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 18.04</a> from DigitalOcean (works for 20.04)</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-configure-ssl-tls-for-mysql-on-ubuntu-18-04 rel=external target=_blank>How To Configure SSL/TLS for MySQL on Ubuntu 18.04</a> from DigitalOcean (not required for 20.04)</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;m going to discuss some of the steps needed to prepare your Ubuntu servers running in the cloud to act as web application servers. For this example, I&rsquo;ll be using a single server as both my web and database server, but for the lab assignment you&rsquo;ll need to adapt this configuration to have the web application installed on your <strong>FRONTEND</strong> server access the database server on your <strong>BACKEND</strong> server.</p><p>At this point, you should already have Apache installed, as well as a couple of sites and virtual hosts created from Lab 5. I&rsquo;m going to use one of those existing virtual hosts as the basis for this web application. Remember that, for the lab assignment, you&rsquo;ll be creating another new virtual host for this application.</p><p>First, you&rsquo;ll need to install PHP and it&rsquo;s associated Apache module on your <strong>FRONTEND</strong> server:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install php libapache2-mod-php</span></span></code></pre></div><p>That will install and configure PHP on your system. To test it, you can create a new file in the web directory of one of your virtual hosts named <code>test.php</code> and add the following content:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;?php phpinfo(); ?&gt;</span></span></span></code></pre></div><p>Then, navigate to that virtual host and load the <code>test.php</code> file from that website. For my example, I would go to <code>http://foo.russfeld.me/test.php</code>. Hopefully you should see a website showing all of the PHP configuration information for your system. Once you confirm it is working, it is always a best practice to delete this <code>test.php</code> test file, as the information it provides could be used by a malicious person to attack your server.</p><p>Now that we&rsquo;ve confirmed that PHP is working, it is time to install the MySQL database server. This time, on your <strong>BACKEND</strong> server, do the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install mysql-server</span></span></code></pre></div><p>That will install the MySQL server on your system. However, by default it is configured very insecurely, so you&rsquo;ll need to reconfigure it to be more secure. Thankfully, there is a script to do just that:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mysql_secure_installation</span></span></code></pre></div><p>That script will ask you a series of questions to help you secure your MySQL server. In general, you should answer &ldquo;Yes&rdquo; to all of the questions, and set the password policy to at least &ldquo;MEDIUM&rdquo; security. In addition, you&rsquo;ll be asked to set a password for the <code>root</code> account on the server. As before, make sure it is very memorable password, and do not reuse any of the passwords we&rsquo;ve previously used in this course.</p><p>Once that is finished, you can test the connection to MySQL using the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mysql -u root</span></span></code></pre></div><p>It should take you to a new prompt that begins with <code>mysql></code>. Once there, we should create a new user for us to use for development. So, enter these commands at that prompt:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>USER</span><span class=w> </span><span class=s1>&#39;admin&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=w> </span><span class=k>IDENTIFIED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=s1>&#39;&lt;password&gt;&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GRANT</span><span class=w> </span><span class=k>ALL</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>*</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;admin&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=k>GRANT</span><span class=w> </span><span class=k>OPTION</span><span class=p>;</span></span></span></code></pre></div><p>where <code>&lt;password></code> is the password you&rsquo;d like to use for that account. Once that is done, you can enter:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>exit</span></span></span></code></pre></div><p>to close that connection. Now, you can test the new connection without using <code>sudo</code> as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mysql -u admin -p -h 127.0.0.1</span></span></code></pre></div><p>It should ask you for a password, and once you enter the password you created for the <code>admin</code> account above, it should take you back to the <code>mysql></code> prompt. While there, enter the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=err>\</span><span class=n>s</span></span></span></code></pre></div><p>to see the connection information. You&rsquo;ll notice that TLS (SSL) is not enabled. To enable that, follow the steps in the guide from DigitalOcean linked in the resources section below this video. I won&rsquo;t walk through those steps here since you&rsquo;ll doing that as part of your lab assignment. In addition, you&rsquo;ll want to follow the steps in that guide for configuring access for remote clients, as we&rsquo;ll be doing that to configure a web application in the next video.</p><p>That should cover everything you need to prepare your system for a web application that uses PHP and MySQL. In the next video, we&rsquo;ll go through the process of installing a simple application in this environment.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=ubuntu-web-application>Ubuntu Web Application</h1><a href="https://www.youtube.com/watch?v=G1iN-Aoj0Ow">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><a href=https://www.phpbb.com/ rel=external target=_blank>phpBB</a></li><li><a href=https://www.phpbb.com/support/docs/en/3.2/ug/quickstart/installation/ rel=external target=_blank>Installation</a> from phpBB</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-a-remote-database-to-optimize-site-performance-with-mysql-on-ubuntu-18-04 rel=external target=_blank>How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 18.04</a> from DigitalOcean (works for 20.04)</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;ll discuss the steps you&rsquo;ll need to follow in order to install a new web application that uses PHP and MySQL on the environment we created in the last video. As with the previous videos discussing web applications on a Windows server, you&rsquo;ll have to adapt these steps to match the application you are installing and the particular configuration of your environment.</p><p>First, we&rsquo;ll need to create a new database and user for this application on our database server. So, first you&rsquo;ll need to log on to the MySQL server using one of the methods we discussed in the previous video to get to a <code>mysql></code> prompt. I recommend using either the <code>root</code> or <code>admin</code> user for this step, as they both should have the permissions needed to add another user and database.</p><p>Once you are at the <code>mysql</code> prompt, you can create a database and user for your application:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=o>&lt;</span><span class=k>database</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>USER</span><span class=w> </span><span class=s1>&#39;&lt;user&gt;&#39;</span><span class=o>@</span><span class=s1>&#39;&lt;ip_address&gt;&#39;</span><span class=w> </span><span class=k>IDENTIFIED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=s1>&#39;&lt;password&gt;&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GRANT</span><span class=w> </span><span class=k>ALL</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>&lt;</span><span class=k>database</span><span class=o>&gt;</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;&lt;user&gt;&#39;</span><span class=o>@</span><span class=s1>&#39;&lt;ip_address&gt;&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FLUSH</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=p>;</span></span></span></code></pre></div><p>This command is a bit complex, so let&rsquo;s walk through it. In the first line, you&rsquo;ll create a database, replacing <code>&lt;database></code> with the name you&rsquo;d like to use for that database. In general, it is a good idea to use the name of your application for the database name. On the second line, you are creating a user to access that database, so replace <code>&lt;user></code> with the username you&rsquo;d like. Again, I recommend using the application name here as well. The <code>&lt;ip_address></code> entry should be the IP address that the user will be accessing this database from. For the lab assignment, you&rsquo;ll be using the private network IP address of <strong>FRONTEND</strong> here. Since I&rsquo;m working on a single server, I&rsquo;ll just use <code>localhost</code> here. Of course, replace <code>&lt;password></code> with the password you&rsquo;d like to use. The following line grants that user all privileges on that database, so replace the entries on that line to match what you used above. Finally, the last line will flush the permissions cache, so the new ones will take effect. Once you are done, you can type <code>exit</code> to exit the MySQL console.</p><p>If you&rsquo;d like to test this connection, on your <strong>FRONTEND</strong> server, you can use the <code>mysql</code> command in a similar way:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mysql -u &lt;user&gt; -p -h &lt;ip_address&gt; &lt;database&gt;</span></span></code></pre></div><p>In this command, the <code>&lt;ip_address></code> is the private network IP address of your <strong>BACKEND</strong> server. If it works correctly, it should allow you to log in to the MySQL console using that command. If this doesn&rsquo;t work, you should diagnose the problems with your MySQL configuration before continuing.</p><p>Now that we have our database configured, it&rsquo;s time to install our application. For this example, I&rsquo;m going to use phpBB, a bulletin board software built in PHP. It is a very simple example of a PHP web application. First, I&rsquo;ll need to download the software onto my cloud server. The simplest way to do this is to navigate to the Downloads page on the phpBB website and copy the download URL. Then, in my SSH session connected to my server, I can type the following commands:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~
</span></span><span class=line><span class=cl>wget &lt;url&gt;</span></span></code></pre></div><p>where <code>&lt;url></code> is the download URL I copied from the phpBB site. I made sure I was at my user&rsquo;s home folder first, so I knew where the file would be downloaded to. Next, I&rsquo;ll need to install the <code>unzip</code> program, and use it to extract the downloaded file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install unzip
</span></span><span class=line><span class=cl>unzip &lt;file&gt;</span></span></code></pre></div><p>where <code>&lt;file></code> is the name of the file that was just downloaded. On my system, it extracted all of its files to the <code>~\phpBB3</code> directory.</p><p>At this point, we should begin following the instructions for installing and configuring phpBB from their website. I&rsquo;ll generally follow their recommended steps, so feel free to refer to their documentation as well if you are following along.</p><p>Now, we need to copy all of those files to the appropriate virtual host root directory. Since I&rsquo;m reusing an existing virtual host, I&rsquo;ll need to make sure that it is empty before I do so. Remember that the lab assignment directs you to create a new virtual host for this application, so you won&rsquo;t have to worry about that. For my example, I&rsquo;m going to use the <code>foo</code> virtual host:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo rm -rv /var/www/foo/html/
</span></span><span class=line><span class=cl>sudo cp -r ~/phpBB3/* /var/www/foo/html/</span></span></code></pre></div><p>Next, while the instructions don&rsquo;t have you do this, I&rsquo;m going to change the ownership of all of these files to the Apache user, which is <code>www-data</code>. This will make assigning permissions in the next step a bit simpler:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chown -R www-data:www-data /var/www/foo/html</span></span></code></pre></div><p>Next, the instructions direct you to access your site&rsquo;s URL via a web browser. So, I&rsquo;ll need to navigate to <code>http://foo.russfeld.me</code> to continue this process.</p><p>On the first page of the installation process, it will check to see if the server meets the necessary requirements for this software. Unfortunately, that isn&rsquo;t the case yet. If you receive any error messages about directories that aren&rsquo;t writable, you may need to adjust your permissions for those directories. By setting the owner and group to <code>www-data</code> earlier, I have bypassed most of those errors.</p><p>However, it complains that I don&rsquo;t have XML/DOM support, and I don&rsquo;t have a PHP database module installed. So, I&rsquo;ll need to install those items. A quick Google search should help you locate them if you aren&rsquo;t sure what packages you need to install. In my case, I&rsquo;ll do the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install php-xml php-mysql
</span></span><span class=line><span class=cl>sudo systemctl restart apache2</span></span></code></pre></div><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p><em>Update 2019-07-30: You may need to install the version of <code>php-mysql</code> that matches your PHP version. So, for PHP 7.2, you can install <code>php7.2-mysql</code>. -Russ</em></p></div></div><p>Once that is done, I should be able to retest the requirements and get to the next step. Here, it will ask for the information to create an Administrator account. I&rsquo;ll enter some default information here.</p><p>Next, you&rsquo;ll need to configure the database for this system. I&rsquo;ll enter the information for the database and user I created earlier. I&rsquo;ll also enter the IP address <code>127.0.0.1</code> for my server hostname. For the lab assignment, you&rsquo;ll need to use the private network IP address of <strong>BACKEND</strong> here. On the next screens, I&rsquo;ll configure some additional options unique to phpBB, selecting the appropriate options for my environment and how I&rsquo;d like to use the application. Finally, it will go through the installation procedure. If everything works properly, it should be able to connect to your database and install the application.</p><p>Now, I can go to the control panel for phpBB and create a new forum, just to make sure that it is working properly.</p><p>Finally, you may have to do additional configuration to set up your Virtual Host to use a security certificate and redirect to HTTPS using Certbot, if you haven&rsquo;t already.</p><p>There you go! You&rsquo;ve now successfully installed and configured a web application using PHP on Apache, and connected it to a MySQL database running on a different system. In addition, everything is properly secured using TLS, firewalls, and other state-of-the-art security settings. Feels pretty good, doesn&rsquo;t it?</p><p>That should give you everything you need to complete this lab assignment. This lab is quite a bit more open-ended than previous assignments, since you&rsquo;ll have the ability to work with a web application of your choice. If you have any questions or run into any issues getting this lab assignment completed, please post in the course discussion forums as always to get help. Good luck!</p><footer class=footline></footer></article></section></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Russell Feldhausen
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis527/commit/84061ea45bef3eaeed1adfe99c235e8c52dcaff8>Aug 10, 2023</a></p></div></div><script src=/cis527/js/clipboard.min.js?1724249590 defer></script><script src=/cis527/js/perfect-scrollbar.min.js?1724249590 defer></script><script src=/cis527/js/theme.js?1724249590 defer></script></body></html>