<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Resources phpBB Installation from phpBB How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 18.04 from DigitalOcean (works for 20.04) Video Transcript In this video, I’ll discuss the steps you’ll need to follow in order to install a new web application that uses PHP and MySQL on the environment we created in the last video. As with the previous videos discussing web applications on a Windows server, you’ll have to adapt these steps to match the application you are installing and the particular configuration of your environment."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ubuntu Web Application :: CIS 527 Textbook"><meta name=twitter:description content="Resources phpBB Installation from phpBB How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 18.04 from DigitalOcean (works for 20.04) Video Transcript In this video, I’ll discuss the steps you’ll need to follow in order to install a new web application that uses PHP and MySQL on the environment we created in the last video. As with the previous videos discussing web applications on a Windows server, you’ll have to adapt these steps to match the application you are installing and the particular configuration of your environment."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/6-application-servers/12-ubuntu-web-application/embed.html"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="Ubuntu Web Application :: CIS 527 Textbook"><meta property="og:description" content="Resources phpBB Installation from phpBB How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 18.04 from DigitalOcean (works for 20.04) Video Transcript In this video, I’ll discuss the steps you’ll need to follow in order to install a new web application that uses PHP and MySQL on the environment we created in the last video. As with the previous videos discussing web applications on a Windows server, you’ll have to adapt these steps to match the application you are installing and the particular configuration of your environment."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Application Servers"><meta property="article:modified_time" content="2020-05-18T20:07:51-05:00"><meta itemprop=name content="Ubuntu Web Application :: CIS 527 Textbook"><meta itemprop=description content="Resources phpBB Installation from phpBB How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 18.04 from DigitalOcean (works for 20.04) Video Transcript In this video, I’ll discuss the steps you’ll need to follow in order to install a new web application that uses PHP and MySQL on the environment we created in the last video. As with the previous videos discussing web applications on a Windows server, you’ll have to adapt these steps to match the application you are installing and the particular configuration of your environment."><meta itemprop=dateModified content="2020-05-18T20:07:51-05:00"><meta itemprop=wordCount content="1276"><title>Ubuntu Web Application :: CIS 527 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis527/6-application-servers/12-ubuntu-web-application/ rel=canonical type=text/html title="Ubuntu Web Application :: CIS 527 Textbook"><link href=/cis527/6-application-servers/12-ubuntu-web-application/index.xml rel=alternate type=application/rss+xml title="Ubuntu Web Application :: CIS 527 Textbook"><link href=/cis527/6-application-servers/12-ubuntu-web-application/index.print.html rel=alternate type=text/html title="Ubuntu Web Application :: CIS 527 Textbook"><link href=/cis527/6-application-servers/12-ubuntu-web-application/tele.html rel=alternate type=text/html title="Ubuntu Web Application :: CIS 527 Textbook"><link href=/cis527/css/fontawesome-all.min.css?1728064528 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fontawesome-all.min.css?1728064528 rel=stylesheet></noscript><link href=/cis527/css/nucleus.css?1728064528 rel=stylesheet><link href=/cis527/css/auto-complete.css?1728064528 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/auto-complete.css?1728064528 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar.min.css?1728064528 rel=stylesheet><link href=/cis527/css/fonts.css?1728064528 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fonts.css?1728064528 rel=stylesheet></noscript><link href=/cis527/css/theme.css?1728064528 rel=stylesheet><link href=/cis527/css/theme-light-theme.css?1728064528 rel=stylesheet id=R-variant-style><link href=/cis527/css/chroma-relearn-light.css?1728064528 rel=stylesheet id=R-variant-chroma-style><link href=/cis527/css/variant.css?1728064528 rel=stylesheet><link href=/cis527/css/print.css?1728064528 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.index_js_url="/cis527/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis527/css/custom.css?1728064528 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis527/6-application-servers/12-ubuntu-web-application/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/G1iN-Aoj0Ow style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h4 id=resources>Resources</h4><ul><li><a href=https://www.phpbb.com/ rel=external target=_blank>phpBB</a></li><li><a href=https://www.phpbb.com/support/docs/en/3.2/ug/quickstart/installation/ rel=external target=_blank>Installation</a> from phpBB</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-a-remote-database-to-optimize-site-performance-with-mysql-on-ubuntu-18-04 rel=external target=_blank>How To Set Up A Remote Database to Optimize Site Performance with MySQL on Ubuntu 18.04</a> from DigitalOcean (works for 20.04)</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;ll discuss the steps you&rsquo;ll need to follow in order to install a new web application that uses PHP and MySQL on the environment we created in the last video. As with the previous videos discussing web applications on a Windows server, you&rsquo;ll have to adapt these steps to match the application you are installing and the particular configuration of your environment.</p><p>First, we&rsquo;ll need to create a new database and user for this application on our database server. So, first you&rsquo;ll need to log on to the MySQL server using one of the methods we discussed in the previous video to get to a <code>mysql></code> prompt. I recommend using either the <code>root</code> or <code>admin</code> user for this step, as they both should have the permissions needed to add another user and database.</p><p>Once you are at the <code>mysql</code> prompt, you can create a database and user for your application:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=o>&lt;</span><span class=k>database</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>USER</span><span class=w> </span><span class=s1>&#39;&lt;user&gt;&#39;</span><span class=o>@</span><span class=s1>&#39;&lt;ip_address&gt;&#39;</span><span class=w> </span><span class=k>IDENTIFIED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=s1>&#39;&lt;password&gt;&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>GRANT</span><span class=w> </span><span class=k>ALL</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>&lt;</span><span class=k>database</span><span class=o>&gt;</span><span class=p>.</span><span class=o>*</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;&lt;user&gt;&#39;</span><span class=o>@</span><span class=s1>&#39;&lt;ip_address&gt;&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FLUSH</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=p>;</span></span></span></code></pre></div><p>This command is a bit complex, so let&rsquo;s walk through it. In the first line, you&rsquo;ll create a database, replacing <code>&lt;database></code> with the name you&rsquo;d like to use for that database. In general, it is a good idea to use the name of your application for the database name. On the second line, you are creating a user to access that database, so replace <code>&lt;user></code> with the username you&rsquo;d like. Again, I recommend using the application name here as well. The <code>&lt;ip_address></code> entry should be the IP address that the user will be accessing this database from. For the lab assignment, you&rsquo;ll be using the private network IP address of <strong>FRONTEND</strong> here. Since I&rsquo;m working on a single server, I&rsquo;ll just use <code>localhost</code> here. Of course, replace <code>&lt;password></code> with the password you&rsquo;d like to use. The following line grants that user all privileges on that database, so replace the entries on that line to match what you used above. Finally, the last line will flush the permissions cache, so the new ones will take effect. Once you are done, you can type <code>exit</code> to exit the MySQL console.</p><p>If you&rsquo;d like to test this connection, on your <strong>FRONTEND</strong> server, you can use the <code>mysql</code> command in a similar way:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mysql -u &lt;user&gt; -p -h &lt;ip_address&gt; &lt;database&gt;</span></span></code></pre></div><p>In this command, the <code>&lt;ip_address></code> is the private network IP address of your <strong>BACKEND</strong> server. If it works correctly, it should allow you to log in to the MySQL console using that command. If this doesn&rsquo;t work, you should diagnose the problems with your MySQL configuration before continuing.</p><p>Now that we have our database configured, it&rsquo;s time to install our application. For this example, I&rsquo;m going to use phpBB, a bulletin board software built in PHP. It is a very simple example of a PHP web application. First, I&rsquo;ll need to download the software onto my cloud server. The simplest way to do this is to navigate to the Downloads page on the phpBB website and copy the download URL. Then, in my SSH session connected to my server, I can type the following commands:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~
</span></span><span class=line><span class=cl>wget &lt;url&gt;</span></span></code></pre></div><p>where <code>&lt;url></code> is the download URL I copied from the phpBB site. I made sure I was at my user&rsquo;s home folder first, so I knew where the file would be downloaded to. Next, I&rsquo;ll need to install the <code>unzip</code> program, and use it to extract the downloaded file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install unzip
</span></span><span class=line><span class=cl>unzip &lt;file&gt;</span></span></code></pre></div><p>where <code>&lt;file></code> is the name of the file that was just downloaded. On my system, it extracted all of its files to the <code>~\phpBB3</code> directory.</p><p>At this point, we should begin following the instructions for installing and configuring phpBB from their website. I&rsquo;ll generally follow their recommended steps, so feel free to refer to their documentation as well if you are following along.</p><p>Now, we need to copy all of those files to the appropriate virtual host root directory. Since I&rsquo;m reusing an existing virtual host, I&rsquo;ll need to make sure that it is empty before I do so. Remember that the lab assignment directs you to create a new virtual host for this application, so you won&rsquo;t have to worry about that. For my example, I&rsquo;m going to use the <code>foo</code> virtual host:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo rm -rv /var/www/foo/html/
</span></span><span class=line><span class=cl>sudo cp -r ~/phpBB3/* /var/www/foo/html/</span></span></code></pre></div><p>Next, while the instructions don&rsquo;t have you do this, I&rsquo;m going to change the ownership of all of these files to the Apache user, which is <code>www-data</code>. This will make assigning permissions in the next step a bit simpler:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chown -R www-data:www-data /var/www/foo/html</span></span></code></pre></div><p>Next, the instructions direct you to access your site&rsquo;s URL via a web browser. So, I&rsquo;ll need to navigate to <code>http://foo.russfeld.me</code> to continue this process.</p><p>On the first page of the installation process, it will check to see if the server meets the necessary requirements for this software. Unfortunately, that isn&rsquo;t the case yet. If you receive any error messages about directories that aren&rsquo;t writable, you may need to adjust your permissions for those directories. By setting the owner and group to <code>www-data</code> earlier, I have bypassed most of those errors.</p><p>However, it complains that I don&rsquo;t have XML/DOM support, and I don&rsquo;t have a PHP database module installed. So, I&rsquo;ll need to install those items. A quick Google search should help you locate them if you aren&rsquo;t sure what packages you need to install. In my case, I&rsquo;ll do the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install php-xml php-mysql
</span></span><span class=line><span class=cl>sudo systemctl restart apache2</span></span></code></pre></div><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p><em>Update 2019-07-30: You may need to install the version of <code>php-mysql</code> that matches your PHP version. So, for PHP 7.2, you can install <code>php7.2-mysql</code>. -Russ</em></p></div></div><p>Once that is done, I should be able to retest the requirements and get to the next step. Here, it will ask for the information to create an Administrator account. I&rsquo;ll enter some default information here.</p><p>Next, you&rsquo;ll need to configure the database for this system. I&rsquo;ll enter the information for the database and user I created earlier. I&rsquo;ll also enter the IP address <code>127.0.0.1</code> for my server hostname. For the lab assignment, you&rsquo;ll need to use the private network IP address of <strong>BACKEND</strong> here. On the next screens, I&rsquo;ll configure some additional options unique to phpBB, selecting the appropriate options for my environment and how I&rsquo;d like to use the application. Finally, it will go through the installation procedure. If everything works properly, it should be able to connect to your database and install the application.</p><p>Now, I can go to the control panel for phpBB and create a new forum, just to make sure that it is working properly.</p><p>Finally, you may have to do additional configuration to set up your Virtual Host to use a security certificate and redirect to HTTPS using Certbot, if you haven&rsquo;t already.</p><p>There you go! You&rsquo;ve now successfully installed and configured a web application using PHP on Apache, and connected it to a MySQL database running on a different system. In addition, everything is properly secured using TLS, firewalls, and other state-of-the-art security settings. Feels pretty good, doesn&rsquo;t it?</p><p>That should give you everything you need to complete this lab assignment. This lab is quite a bit more open-ended than previous assignments, since you&rsquo;ll have the ability to work with a web application of your choice. If you have any questions or run into any issues getting this lab assignment completed, please post in the course discussion forums as always to get help. Good luck!</p><footer class=footline></footer></article></div></main></div><script src=/cis527/js/clipboard.min.js?1728064528 defer></script><script src=/cis527/js/perfect-scrollbar.min.js?1728064528 defer></script><script src=/cis527/js/theme.js?1728064528 defer></script><script src=/cis527/js/embed-iframe.js?1728064528 defer></script></body></html>