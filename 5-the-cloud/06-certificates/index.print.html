<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="Note TODO The video below installs certbot from a PPA, but Ubuntu 22.04 includes certbot in the universe repositories. Refer to the instructions on the DigitalOcean website for updated instructions. –Russ
YouTube Video Resources Slides Core Networking Services - Security Public Key Certificate from Wikipedia Certbot from the Electronic Frontier Foundation (EFF) How To Secure Apache with Let’s Encrypt on Ubuntu 22.04 from DigitalOcean Video Transcript So far, we’ve created a cloud server, a domain name, and connected the two so our users can access our cloud resources. However, we haven’t done anything to secure the connection between our users and our cloud system, which means that any information sent via HTTP to and from our server can be intercepted and read by a malicious third party. As you’ll recall, in Module 3 we showed how simple it is to do just that using Wireshark."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><meta name=twitter:title content="Certificates :: CIS 527 Textbook"><meta name=twitter:description content="Note TODO The video below installs certbot from a PPA, but Ubuntu 22.04 includes certbot in the universe repositories. Refer to the instructions on the DigitalOcean website for updated instructions. –Russ
YouTube Video Resources Slides Core Networking Services - Security Public Key Certificate from Wikipedia Certbot from the Electronic Frontier Foundation (EFF) How To Secure Apache with Let’s Encrypt on Ubuntu 22.04 from DigitalOcean Video Transcript So far, we’ve created a cloud server, a domain name, and connected the two so our users can access our cloud resources. However, we haven’t done anything to secure the connection between our users and our cloud system, which means that any information sent via HTTP to and from our server can be intercepted and read by a malicious third party. As you’ll recall, in Module 3 we showed how simple it is to do just that using Wireshark."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/5-the-cloud/06-certificates/index.html"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="Certificates :: CIS 527 Textbook"><meta property="og:description" content="Note TODO The video below installs certbot from a PPA, but Ubuntu 22.04 includes certbot in the universe repositories. Refer to the instructions on the DigitalOcean website for updated instructions. –Russ
YouTube Video Resources Slides Core Networking Services - Security Public Key Certificate from Wikipedia Certbot from the Electronic Frontier Foundation (EFF) How To Secure Apache with Let’s Encrypt on Ubuntu 22.04 from DigitalOcean Video Transcript So far, we’ve created a cloud server, a domain name, and connected the two so our users can access our cloud resources. However, we haven’t done anything to secure the connection between our users and our cloud system, which means that any information sent via HTTP to and from our server can be intercepted and read by a malicious third party. As you’ll recall, in Module 3 we showed how simple it is to do just that using Wireshark."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="The Cloud"><meta property="article:modified_time" content="2024-10-23T14:53:47-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><meta itemprop=name content="Certificates :: CIS 527 Textbook"><meta itemprop=description content="Note TODO The video below installs certbot from a PPA, but Ubuntu 22.04 includes certbot in the universe repositories. Refer to the instructions on the DigitalOcean website for updated instructions. –Russ
YouTube Video Resources Slides Core Networking Services - Security Public Key Certificate from Wikipedia Certbot from the Electronic Frontier Foundation (EFF) How To Secure Apache with Let’s Encrypt on Ubuntu 22.04 from DigitalOcean Video Transcript So far, we’ve created a cloud server, a domain name, and connected the two so our users can access our cloud resources. However, we haven’t done anything to secure the connection between our users and our cloud system, which means that any information sent via HTTP to and from our server can be intercepted and read by a malicious third party. As you’ll recall, in Module 3 we showed how simple it is to do just that using Wireshark."><meta itemprop=dateModified content="2024-10-23T14:53:47-05:00"><meta itemprop=wordCount content="1106"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><title>Certificates :: CIS 527 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis527/5-the-cloud/06-certificates/index.html rel=canonical type=text/html title="Certificates :: CIS 527 Textbook"><link href=/cis527/5-the-cloud/06-certificates/index.xml rel=alternate type=application/rss+xml title="Certificates :: CIS 527 Textbook"><link href=/cis527/5-the-cloud/06-certificates/tele.html rel=alternate type=text/html title="Certificates :: CIS 527 Textbook"><link href=/cis527/5-the-cloud/06-certificates/embed.html rel=alternate type=text/html title="Certificates :: CIS 527 Textbook"><link href=/cis527/css/auto-complete/auto-complete.min.css?1756325072 rel=stylesheet><script src=/cis527/js/auto-complete/auto-complete.min.js?1756325072 defer></script><script src=/cis527/js/search-lunr.min.js?1756325072 defer></script><script src=/cis527/js/search.min.js?1756325072 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis527/searchindex.en.js?1756325072"</script><script src=/cis527/js/lunr/lunr.min.js?1756325072 defer></script><script src=/cis527/js/lunr/lunr.stemmer.support.min.js?1756325072 defer></script><script src=/cis527/js/lunr/lunr.multi.min.js?1756325072 defer></script><script src=/cis527/js/lunr/lunr.en.min.js?1756325072 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis527/fonts/fontawesome/css/fontawesome-all.min.css?1756325072 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/fonts/fontawesome/css/fontawesome-all.min.css?1756325072 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar/perfect-scrollbar.min.css?1756325072 rel=stylesheet><link href=/cis527/css/theme.min.css?1756325072 rel=stylesheet><link href=/cis527/css/format-print.min.css?1756325072 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/5-the-cloud/06-certificates/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis527/css/custom.css?1756325072 rel=stylesheet></head><body class="mobile-support embed print" data-url=/cis527/5-the-cloud/06-certificates/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 5-the-cloud" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=certificates>Certificates</h1><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>TODO <em>The video below installs certbot from a PPA, but Ubuntu 22.04 includes certbot in the universe repositories. Refer to the instructions on the <a href=https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu rel=external target=_blank>DigitalOcean website</a> for updated instructions. &ndash;Russ</em></p></div></details><a href="https://www.youtube.com/watch?v=E0Fq6gqFPe8">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=/cis527/5-the-cloud/06-certificates-slides/index.html>Slides</a></strong></li><li><strong><a href=/cis527/3-core-networking-services/15-security/index.html>Core Networking Services - Security</a></strong></li><li><a href=https://en.wikipedia.org/wiki/Public_key_certificate rel=external target=_blank>Public Key Certificate</a> from Wikipedia</li><li><a href=https://certbot.eff.org/ rel=external target=_blank>Certbot</a> from the Electronic Frontier Foundation (EFF)</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-22-04 rel=external target=_blank>How To Secure Apache with Let&rsquo;s Encrypt on Ubuntu 22.04</a> from DigitalOcean</li></ul><h4 id=video-transcript>Video Transcript</h4><p>So far, we&rsquo;ve created a cloud server, a domain name, and connected the two so our users can access our cloud resources. However, we haven&rsquo;t done anything to secure the connection between our users and our cloud system, which means that any information sent via HTTP to and from our server can be intercepted and read by a malicious third party. As you&rsquo;ll recall, in Module 3 we showed how simple it is to do just that using Wireshark.</p><p>To secure our connections, we want to use HTTPS, which is simply HTTP using TLS to create a secured and encrypted tunnel. We&rsquo;ve already discussed TLS a bit in Module 3, so feel free to refer to that video if you need a quick refresher of what TLS is and how it works.</p><p>As part of the TLS handshake, each system exchanges security information, such as a public key certificate, that is used to verify each other&rsquo;s identity and construct a shared encryption key for the connection. It is very simple to create one of those certificates on your system, and then instruct your web server to use that certificate to create a secure connection. Those certificates are sometimes referred to as &ldquo;SSL Certificates&rdquo; or &ldquo;TLS Certificates&rdquo; as well.</p><p>However, since you created that certificate yourself, it is known as a &ldquo;self-signed&rdquo; certificate, and really can&rsquo;t be used to confirm your identity directly. For example, you could easily create a certificate that says this system is the server for <code>amazon.com</code>, but that wouldn&rsquo;t be true. So, how can we use those certificates to confirm a system&rsquo;s identity?</p><p>The solution is to use a &ldquo;chain of trust&rdquo; to verify the certificate. Each web browser and operating system has a set of root certificates installed which belong to several trusted entities, called certificate authorities, or CAs, from across the world. They, in turn, can issue intermediate certificates to others acting on their behalf. To validate that intermediate certificate, the root CA signs it using their own certificate. This signature can easily be verified to make sure it is genuine. Then, the intermediate certificates can be used to sign certificates for a website or cloud resource.</p><p>When your web browser receives a certificate from a website, it can look at the signatures and verify the &ldquo;chain of trust&rdquo; that authenticates the certificate. In most web browsers, you can view this information by clicking on the lock icon next to the URL in the address bar. For example, the certificate for Wikipedia is currently signed by a certificate from &ldquo;GlobalSign Organization Validation CA,&rdquo; which in turn is signed by the &ldquo;GlobalSign Root CA&rdquo; certificate.</p><p>In essence, your web browser says &ldquo;Well, I trust GlobalSign Root CA&rsquo;s certificate, and they say they trust GlobalSign Organization Validation CA&rsquo;s certificate, and the Wikipedia certificate was signed by that certificate, so it must be correct.&rdquo;</p><p>So, as the administrator of resources in the cloud, it is in your best interest to not only use HTTPS to secure your web traffic, but you should also provide a valid certificate that has been signed by a trusted root CA. This helps ensure that your users can trust that the system they are connecting to is the correct one.</p><p>Unfortunately, obtaining certificates could be expensive in the past, depending on your needs. Many times you would need to obtain these certificates through your domain registrar, or directly from a variety of certificate authorities on the internet. While those are still options, and in many cases for a large enterprise they are the best options, there is a better way for us to secure our websites.</p><p>The Internet Security Research Group created Let&rsquo;s Encrypt, a free certificate authority that allows the owner of a domain name to request a security certificate free of charge. To make it even easier, the Electronic Frontier Foundation, or EFF, created Certbot, a free tool that helps you configure and secure your websites using Let&rsquo;s Encrypt. So, let&rsquo;s see how easy it is to do just that on our cloud server.</p><p>I&rsquo;m going to quickly walk through the DigitalOcean guide for using Let&rsquo;s Encrypt on Apache, which is linked below this video in the resources section. Feel free to refer to that guide for additional information and discussion about this process.</p><p>First, I&rsquo;ll need to install Certbot by adding the appropriate APT repository and installing the package:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo add-apt-repository ppa:certbot/certbot
</span></span><span style=display:flex><span>sudo apt install python-certbot-apache</span></span></code></pre></div><p>Next, I&rsquo;ll need to make sure that the configuration file for my website is stored correctly and has the correct information. For example, if the website I would like to secure is <code>foo.russfeld.me</code>, my configuration file should be stored in <code>/etc/apache2/sites-available/foo.russfeld.me.conf</code>, and inside that file should be a line for <code>ServerName foo.russfeld.me</code>. Make sure that all three are correct before continuing.</p><p>In addition, you&rsquo;ll need to make sure your firewall is configured to allow HTTPS traffic on port 443 through the firewall.</p><p>Finally, you can use Certbot to request a certificate for your website. For my example site, the command would be this:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo certbot --apache -d foo.russfeld.me</span></span></code></pre></div><p>If you&rsquo;d like to create a certificate for more than one website, you can include them with additional <code>-d</code> flags at the end of this command.</p><p>Certbot may ask you a few questions as it requests your security certificates, including your email address. At the end, it will ask you to choose if you&rsquo;d like to have your site automatically redirected to HTTPS. I always recommend enabling this option, so that anyone who visits your site will be automatically secured.</p><p>That&rsquo;s all there is to it! At this point, I recommend clearing the cache in your web browser to make sure it doesn&rsquo;t have any cached information from that website. Then, you can visit your website in your browser, and it should automatically redirect you to the HTTPS protocol. You can then examine the certificate to make sure it is valid.</p><p>There is really no excuse in this day and age for having a website without a valid, authenticated security certificate, since it is so simple and easy to do. As a system administrator, you should strive to make sure every system you manage is properly secured, and this is one important part of that process.</p><footer class=footline></footer></article></div></main></div><script src=/cis527/js/clipboard/clipboard.min.js?1756325072 defer></script><script src=/cis527/js/perfect-scrollbar/perfect-scrollbar.min.js?1756325072 defer></script><script src=/cis527/js/theme.min.js?1756325072 defer></script><script src=/cis527/js/embed-iframe.min.js?1756325072 defer></script></body></html>