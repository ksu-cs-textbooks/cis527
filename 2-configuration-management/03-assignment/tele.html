<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="Lab 2 - Configuration Management Instructions Create two different Puppet Manifest Files that meet the specifications below. Each one will be applied to a newly installed virtual machine of the appropriate operating system configured as described in Task 0. The best way to accomplish this is to treat this assignment like a checklist and check things off as you complete them.
If you have any questions about these items or are unsure what they mean, please contact the instructor. Remember that part of being a system administrator (and a software developer in general) is working within vague specifications to provide what your client is requesting, so eliciting additional information is a very necessary skill."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><meta name=twitter:title content="Assignment :: CIS 527 Textbook"><meta name=twitter:description content="Lab 2 - Configuration Management Instructions Create two different Puppet Manifest Files that meet the specifications below. Each one will be applied to a newly installed virtual machine of the appropriate operating system configured as described in Task 0. The best way to accomplish this is to treat this assignment like a checklist and check things off as you complete them.
If you have any questions about these items or are unsure what they mean, please contact the instructor. Remember that part of being a system administrator (and a software developer in general) is working within vague specifications to provide what your client is requesting, so eliciting additional information is a very necessary skill."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/2-configuration-management/03-assignment/index.html"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="Assignment :: CIS 527 Textbook"><meta property="og:description" content="Lab 2 - Configuration Management Instructions Create two different Puppet Manifest Files that meet the specifications below. Each one will be applied to a newly installed virtual machine of the appropriate operating system configured as described in Task 0. The best way to accomplish this is to treat this assignment like a checklist and check things off as you complete them.
If you have any questions about these items or are unsure what they mean, please contact the instructor. Remember that part of being a system administrator (and a software developer in general) is working within vague specifications to provide what your client is requesting, so eliciting additional information is a very necessary skill."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Configuration Management"><meta property="article:modified_time" content="2024-08-06T17:16:06-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><meta itemprop=name content="Assignment :: CIS 527 Textbook"><meta itemprop=description content="Lab 2 - Configuration Management Instructions Create two different Puppet Manifest Files that meet the specifications below. Each one will be applied to a newly installed virtual machine of the appropriate operating system configured as described in Task 0. The best way to accomplish this is to treat this assignment like a checklist and check things off as you complete them.
If you have any questions about these items or are unsure what they mean, please contact the instructor. Remember that part of being a system administrator (and a software developer in general) is working within vague specifications to provide what your client is requesting, so eliciting additional information is a very necessary skill."><meta itemprop=dateModified content="2024-08-06T17:16:06-05:00"><meta itemprop=wordCount content="1776"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><title>Assignment :: CIS 527 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis527/2-configuration-management/03-assignment/index.html rel=canonical type=text/html title="Assignment :: CIS 527 Textbook"><link href=/cis527/2-configuration-management/03-assignment/index.xml rel=alternate type=application/rss+xml title="Assignment :: CIS 527 Textbook"><link href=/cis527/2-configuration-management/03-assignment/index.print.html rel=alternate type=text/html title="Assignment :: CIS 527 Textbook"><link href=/cis527/2-configuration-management/03-assignment/embed.html rel=alternate type=text/html title="Assignment :: CIS 527 Textbook"><link href=/cis527/css/auto-complete/auto-complete.min.css?1755629944 rel=stylesheet><script src=/cis527/js/auto-complete/auto-complete.min.js?1755629944 defer></script><script src=/cis527/js/search-lunr.min.js?1755629944 defer></script><script src=/cis527/js/search.min.js?1755629944 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis527/searchindex.en.js?1755629944"</script><script src=/cis527/js/lunr/lunr.min.js?1755629944 defer></script><script src=/cis527/js/lunr/lunr.stemmer.support.min.js?1755629944 defer></script><script src=/cis527/js/lunr/lunr.multi.min.js?1755629944 defer></script><script src=/cis527/js/lunr/lunr.en.min.js?1755629944 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis527/fonts/fontawesome/css/fontawesome-all.min.css?1755629944 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/fonts/fontawesome/css/fontawesome-all.min.css?1755629944 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar/perfect-scrollbar.min.css?1755629944 rel=stylesheet><link href=/cis527/css/theme.min.css?1755629944 rel=stylesheet><link href=/cis527/css/format-html.min.css?1755629944 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/2-configuration-management/03-assignment/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis527/css/custom.css?1755629944 rel=stylesheet></head><body class="mobile-support html" data-url=/cis527/2-configuration-management/03-assignment/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 2-configuration-management" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=assignment>Assignment</h1><h3 id=lab-2---configuration-management>Lab 2 - Configuration Management</h3><h4 id=instructions>Instructions</h4><p>Create two different <strong>Puppet Manifest Files</strong> that meet the specifications below. Each one will be applied to a newly installed virtual machine of the appropriate operating system configured as described in Task 0. The best way to accomplish this is to treat this assignment like a checklist and check things off as you complete them.</p><p>If you have any questions about these items or are unsure what they mean, please contact the instructor. Remember that part of being a system administrator (and a software developer in general) is working within vague specifications to provide what your client is requesting, so eliciting additional information is a very necessary skill.</p><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p><em>To be more blunt - this specification may be purposefully designed to be vague, and it is your responsibility to ask questions about any vagaries you find. Once you begin the grading process, you cannot go back and change things, so be sure that your machines meet the expected specification regardless of what is written here. &ndash;Russ</em></p></div></details><p>Also, to complete many of these items, you may need to refer to additional materials and references not included in this document. System administrators must learn how to make use of available resources, so this is a good first step toward that. Of course, there&rsquo;s always <a href=http://www.google.com rel=external target=_blank>Google</a>!</p><h4 id=time-expectation>Time Expectation</h4><p>This lab may take anywhere from <strong>1 - 6 hours</strong> to complete, depending on your previous experience working with these tools and the speed of the hardware you are using.</p><details open class="box cstyle notices tip"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p><strong>Testing Manifest Files</strong> - When testing these manifest files, there is a three step process. First, <strong>apply</strong> the manifest, then <strong>reboot</strong>, then <strong>apply again</strong>. This is because any changes made to group memberships are not applied until after a user logs back in or the system reboots. So, you may get permission issues when creating files or assigning permissions due to incorrect group memberships. Ideally, those permission errors should be eliminated after a reboot. There is no good fix for this in Puppet itself, since it is an operating system issue. Therefore, this is the process that you should use, and it is the process that will be used when your manifest files are graded. Basically, if you get no errors after a reboot, you should be fine!</p></div></details><hr><h3 id=task-0-create-new-virtual-machines--snapshots>Task 0: Create New Virtual Machines & Snapshots</h3><p>Create new Windows 11 and Ubuntu 24.04 virtual machines for this lab. When creating the virtual machines and installing the operating system, use the same information from Lab 1. You should create the <code>cis527</code> account during installation.</p><p><strong>DO NOT PERFORM ANY ADDITIONAL CONFIGURATION AFTER THE INSTALLATION IS COMPLETE EXCEPT WHAT IS LISTED BELOW!</strong></p><p>After installing the operating system, install <strong>ONLY</strong> the following software:</p><ul><li><p><strong>Puppet Agent 8</strong></p><ul><li>Windows: Download and install the latest Puppet Agent from <a href=https://downloads.puppetlabs.com/windows/puppet8/ rel=external target=_blank>Puppet Downloads</a>. See the <a href=https://www.puppet.com/docs/puppet/8/install_agents#install_windows_agents rel=external target=_blank>Installing Agents</a> from Puppet Documentation</li><li>Ubuntu: See <a href=https://puppet.com/docs/puppet/latest/install_agents.html rel=external target=_blank>Installing Agents</a> and <a href=https://www.puppet.com/docs/puppet/8/install_puppet#enable_the_puppet_platform_repository rel=external target=_blank>Enable the Puppet Platform on Apt</a> from Puppet Documentation<ul><li>Recall that Ubuntu 24.04 is codenamed &ldquo;Noble Numbat&rdquo;, so use the url <code>https://apt.puppet.com/puppet8-release-noble.deb</code> to get the correct version on Ubuntu.</li><li>Follow the instructions in the video later in this lab to add Puppet to the <code>sudo</code> path.</li></ul></li></ul></li><li><p><strong>VMware Tools</strong> (Windows) and either <code>open-vm-tools-desktop</code> or <strong>VMware Tools</strong> (Ubuntu)</p></li><li><p><strong>All System Updates</strong> (Windows & Ubuntu)</p></li></ul><p>On the Windows virtual machine only, create a folder at <code>C:\install</code> and download the following installers. Do not change the name of the installers from the default name provided from the website. You may choose to do this step using the <a href=https://forge.puppet.com/puppet/download_file rel=external target=_blank>download_file</a> Puppet module instead.</p><ul><li><a href=https://www.mozilla.org/en-US/firefox/all/ rel=external target=_blank>Firefox</a> (<code>Firefox Setup 129.0.exe</code> as of 8/6/2024)</li><li><a href=https://www.thunderbird.net/en-US/thunderbird/all/ rel=external target=_blank>Thunderbird</a> (<code>Thunderbird Setup 128.0.1esr.exe</code> as of 8/6/2024)</li><li><a href=https://notepad-plus-plus.org/download/ rel=external target=_blank>Notepad++</a> (<code>npp.8.6.9.Installer.x64.exe</code> as of 8/6/2024)</li></ul><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p><em>I have listed sample names of the installers as of this writing, and these will be the ones that I use for testing; however, you may receive newer versions with slightly different names. That is fine. Just be sure that you don&rsquo;t get the default stub or web-only installers, which is what Firefox typically gives you unless you follow the links above. They will not work properly for this lab. &ndash;Russ</em></p></div></details><p>Once you have your virtual machines configured, make a snapshot of each called <strong>&ldquo;Puppet Testing&rdquo;</strong> for your use. As you test your Puppet manifest files, you&rsquo;ll reset to this snapshot to undo any changes made by Puppet so you can test on a clean VM. The VMs used for grading will be configured as described here.</p><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
Warning</summary><div class=box-content><p>When you reset back to a snapshot, any new or modified files on the VM will be lost. So, make sure you keep a backup of the latest version of your manifest files on your host machine! <em>You have been warned!</em></p></div></details><hr><h3 id=task-1-puppet-manifest-file-for-ubuntu>Task 1: Puppet Manifest File for Ubuntu</h3><p>Create a Puppet Manifest File for Ubuntu 24.04 that defines the following configuration. This configuration is very similar to, but not exactly the same as, Lab 1, so read through it carefully. Assume that the machine you are applying the manifest file on is configured as described above in Task 0.</p><ul><li><p><strong>Users (Same as Lab 1)</strong></p><ul><li><code>adminaccount</code> | <code>AdminPassword123</code> (Administrator type or <code>sudo</code> group)</li><li><code>normalaccount</code> | <code>NormalPassword123</code> (Normal type)</li><li><code>guestaccount</code> | <code>GuestPassword123</code> (Normal type)</li><li><code>evilaccount</code> | <code>EvilPassword123</code> (Normal type)</li><li>_Create groups as needed below_<details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>Makes sure you can actually log in as these users after creating them! Many students forget to check this step and lose points because the accounts are created, but don&rsquo;t actually allow users to log in.</p></div></details></li></ul></li><li><p><strong>Files & Permissions (Same as Lab 1)</strong></p><ul><li>Create a folder <code>/cis527</code> (<strong>at the root of the system, not in a user&rsquo;s home folder</strong>). Any user may read or write to this folder, and it should be owned by <code>root:root</code> (user: <code>root</code>; group: <code>root</code>).</li><li>Within <code>/cis527</code>, create a folder for each user created during task 5 except for <code>cis527</code>, with the folder name matching the user&rsquo;s name. Make sure that each folder is owned by the user of the same name, and that that user has full permissions to its namesake folder.</li><li>Create a group named <code>admingroup</code> and set permissions on each folder using that group to allow both <code>cis527</code> and <code>adminaccount</code> to have full access to each folder created in <code>/cis527</code>. No other user should be able to access any other user&rsquo;s folder.</li><li>In each subfolder of <code>/cis527</code>, create a text file. It should have the same owner and access permissions as the folder it is contained in. The name and contents of the text file are up to you.</li><li>See <a href=/cis527/images/lab1-image2.png>this screenshot</a> for what these permissions may look like in Terminal. This was created using the command <code>ls -lR</code> in the Linux terminal. These screenshots are from an earlier version of this lab using different paths and usernames, but the permissions structure is the same.</li></ul></li><li><p><strong>Software (Same as Lab 1)</strong></p><ul><li>Mozilla Firefox (<code>firefox</code>)</li><li>Mozilla Thunderbird (<code>thunderbird</code>)</li><li>Apache Web Server (<code>apache2</code>)</li><li>Synaptic Package Manager (<code>synaptic</code>)</li><li>GUFW Firewall Management Utility (<code>gufw</code>)</li><li>ClamAV (<code>clamav</code>)</li></ul></li><li><p><strong>Services</strong> - Ensure the following services are running:</p><ul><li>Apache Web Server</li><li>Clam AntiVirus&rsquo; FreshClam Service<details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p><em>You will have to find the appropriate name for each service. &ndash;Russ</em></p></div></details></li></ul></li></ul><hr><h3 id=task-2-puppet-manifest-file-for-windows-11>Task 2: Puppet Manifest File for Windows 11</h3><p>Create a Puppet Manifest File for Windows 11 that defines the following configuration. This configuration is very similar to, but not exactly the same as, Lab 1, so read through it carefully. Assume that the machine you are applying the manifest file on is configured as described above in Task 0.</p><ul><li><p><strong>Users (Same as Lab 1)</strong></p><ul><li><code>AdminAccount</code> | <code>AdminPassword123</code> (Administrators & Users group)</li><li><code>NormalAccount</code> | <code>NormalPassword123</code> (Users group)</li><li><code>GuestAccount</code> | <code>GuestPassword123</code> (Guests group only)</li><li><code>EvilAccount</code> | <code>EvilPassword123</code> (Users group)</li><li>_Create groups as needed below_<details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>Makes sure you can actually log in as these users after creating them! Many students forget to check this step and lose points because the accounts are created, but don&rsquo;t actually allow users to log in.</p></div></details></li></ul></li><li><p><strong>Files & Permissions (Same as Lab 1)</strong></p><ul><li>Create the folder <code>C:\cis527</code>. It should be owned by the <code>cis527</code> account, but make sure all other users can read and write to that folder.</li><li>Within <code>C:\cis527</code>, create a folder for each user created during task 2 except for <code>cis527</code>, with the folder name matching the user&rsquo;s name. Make sure that each folder is owned by the user of the same name, and that that user has full permissions to its namesake folder.</li><li>Create a group named <code>AdminGroup</code> containing <code>cis527</code> and <code>AdminAccount</code>, and set permissions on <code>C:\cis527</code> for that group to have full access to each folder created in <code>C:\cis527</code>. No other user should be able to access any other user&rsquo;s folder.</li><li>In each subfolder of <code>C:\cis527</code>, create a text file. It should have the same owner and access permissions as the folder it is contained in. The name and contents of the text file are up to you.</li><li><strong>Don&rsquo;t remove the SYSTEM account or the built-in Administrator account&rsquo;s access from any of these files.</strong> Usually this is as simple as not modifying their permissions from the defaults.</li><li>See <a href=/cis527/images/lab1-image1.png>this screenshot</a> and <a href=/cis527/images/lab1-image1a.png>this screenshot</a> for what these permissions should look like in PowerShell. This was created using the command <code>Run Get-ChildItem -Recurse | Get-Acl | Format-List</code> in PowerShell. These screenshots are from an earlier version of this lab using different paths and usernames, but the permissions structure is the same.</li></ul></li><li><p><strong>Software</strong> - Install the latest version of the following software. The installation should be done <strong>SILENTLY</strong> without any user interaction required. In addition, Puppet should be able to detect if they are already installed, and not attempt to install them again if the manifest is run multiple times.</p><ul><li>Mozilla Firefox</li><li>Mozilla Thunderbird</li><li>Notepad++<details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p><em>You will need to research the appropriate options to give to the installer through Puppet for them to install silently. For this lab, you should not use any Windows package managers such as Chocolatey or Ninite. The installation files will be already downloaded and stored in <code>C:\install</code>. Also, you&rsquo;ll need to make sure your resource names exactly match the names of the packages after they are installed, or Puppet will attempt to reinstall them each time the manifest file is applied. &ndash;Russ</em></p></div></details></li></ul></li><li><p><strong>Services</strong> - Ensure the following services are running:</p><ul><li>DHCP Client</li><li>DNS Client</li><li>Windows Update<details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p><em>You will have to find the appropriate name for each service. &ndash;Russ</em></p></div></details></li></ul></li></ul><hr><h3 id=task-3-upload-to-canvas--contact-instructor>Task 3: Upload to Canvas & Contact Instructor</h3><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>Please add comments to your Puppet Manifest Files describing any Puppet Modules that must be installed prior to applying them.</p></div></details><p>Upload your completed Puppet Manifest Files to Canvas and then contact the instructor for grading. You may continue with the next module once grading has been completed. In general, this lab does not require interactive grading, but you are welcome to request a time if you&rsquo;d prefer.</p><footer class=footline></footer></article></div></main></div><script src=/cis527/js/clipboard/clipboard.min.js?1755629944 defer></script><script src=/cis527/js/perfect-scrollbar/perfect-scrollbar.min.js?1755629944 defer></script><script src=/cis527/js/theme.min.js?1755629944 defer></script></div><script src=/cis527/js/tele-scroll.min.js?1755629944 defer></script></body></html>