




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CIS 527 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Installing Puppet :: CIS 527 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis527/2-configuration-management/04-installing-puppet/index.html" rel="canonical" type="text/html" title="Installing Puppet :: CIS 527 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis527/2-configuration-management/04-installing-puppet/index.xml" rel="alternate" type="application/rss+xml" title="Installing Puppet :: CIS 527 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis527/2-configuration-management/04-installing-puppet/index.print.html" rel="alternate" type="text/html" title="Installing Puppet :: CIS 527 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis527/2-configuration-management/04-installing-puppet/tele.html" rel="alternate" type="text/html" title="Installing Puppet :: CIS 527 Textbook">
    
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/fontawesome-all.min.css?1698959789" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis527/css/fontawesome-all.min.css?1698959789" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/nucleus.css?1698959789" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/auto-complete.css?1698959789" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis527/css/auto-complete.css?1698959789" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/perfect-scrollbar.min.css?1698959789" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/fonts.css?1698959789" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis527/css/fonts.css?1698959789" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/theme.css?1698959789" rel="stylesheet">
    
    
    
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/theme-light-theme.css?1698959789" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/variant.css?1698959789" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/print.css?1698959789" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/ie.css?1698959789" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/url.js?1698959789"></script>
    
    
    
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis527/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis527/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis527/';
      window.variants && variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis527/css/custom.css?1698959789" rel="stylesheet">

    
  </head>
  <body class="mobile-support embed disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis527/2-configuration-management/04-installing-puppet/embed.html">
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
    
    
    

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Note</div>
  <div class="box-content">

<p>The video refers to Puppet version 6, but Puppet 8 is now the latest version. For the lab assignment, you&rsquo;ll want to install Puppet 8 and not Puppet 6. This changes the URL used to get the release package - see the assignment page for more information. The basic process is otherwise the same.</p>
</div>
</div>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/brfUIda9IPc" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<!-- F12XwpusumA -->
<h4 id="resources">Resources</h4>
<ul>
<li><a href="https://downloads.puppetlabs.com/windows/puppet8/" target="_blank">Puppet Agent Windows Downloads</a>
 from Puppet (look for puppet-agent-x64-latest.msi)</li>
<li><a href="https://www.puppet.com/docs/puppet/8/platform_components" target="_blank">About Puppet Platform and Its Packages</a>
 from Puppet</li>
<li><a href="https://puppet.com/download-learning-vm" target="_blank">Puppet Learning VM</a>
 from Puppet</li>
<li><a href="https://puppet.com/docs/pe/latest/system_requirements.html" target="_blank">Puppet System Requirements</a>
 from Puppet</li>
<li><a href="https://puppet.com/docs" target="_blank">Puppet Documentation</a>
 from Puppet</li>
<li><a href="https://puppet.com/docs/puppet/latest/install_agents.html" target="_blank">Installing Puppet Agent</a>
 from Puppet</li>
<li><a href="https://puppet.com/docs/puppet/latest/install_agents.html#concept-6837" target="_blank">Add Executables to your PATH</a>
 from Puppet</li>
</ul>
<h4 id="video-script">Video Script</h4>
<p>To begin work on Lab 2, you&rsquo;ll need to install Puppet Agent on your new VMs. This video will walk you through that process.</p>
<p>First, let&rsquo;s look at installing Puppet Agent on Ubuntu. Here I have an Ubuntu VM configured as described in the Lab 2 assignment, except I have not installed the Puppet Agent software yet. To install Puppet Agent, we must first enable the Puppet Platform repositories. A link to these instructions are in the resources section below the video. On that page, scroll down to the section titled &ldquo;Enable the Puppet Platform on Apt&rdquo; and enter the two commands given.</p>
<p>However, we&rsquo;ll need to determine the URL required for our version of Puppet and Ubuntu. In this case, we&rsquo;d like to install Puppet version 6, and we are using Ubuntu 20.04, which is codenamed &ldquo;Focal Fossa&rdquo;. So, our URL would consist of &lsquo;puppet6&rsquo; as the platform name, and &lsquo;focal&rsquo; as the OS abbreviation. So, the full URL will be <code>https://apt.puppetlabs.com/puppet6-release-focal.deb</code>. When we place that first URL after <code>wget</code> in the first command, it will simply download a .DEB installation file to your computer. The second command uses the <code>dpkg</code> tool to install that file.</p>
<p>Once we&rsquo;ve done that, we can use <code>sudo apt update</code> and <code>sudo apt install puppet-agent</code> to install the Puppet Agent program on Ubuntu.</p>
<p>However, you won&rsquo;t be able to use those commands until we add them to the <code>PATH</code> environment variable. The <code>PATH</code> variable is a list of folders that contain the commands you can access from the Terminal. If you have reviewed the information in the Extras module for Bash Scripting, you are already familiar with the <code>PATH</code> variable. The instructions for installing Puppet Agent on Linux linked in the resources section gives one way to add these commands to your <code>PATH</code> variable, but it is incomplete and will not work in all cases. So, there are two options: one would be to use the full path each time you need to use the Puppet commands, and the second is to modify the <code>PATH</code> variable. In this video, I&rsquo;ll walk you through the steps to modify your <code>PATH</code> to enable direct access to these commands.</p>
<p>First, you must add it to your own <code>PATH</code> variable. To do so, use the following command to edit your Bash configuration file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano ~/.bashrc</span></span></code></pre></div><p>Use the arrow keys to navigate to the bottom of the file. Then, on a new line, add the following:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>export PATH<span style="color:#f92672">=</span>/opt/puppetlabs/bin:$PATH</span></span></code></pre></div><p>Then press <kbd>CTRL</kbd>+<kbd>X</kbd>, then <kbd>Y</kbd>, then <kbd>ENTER</kbd> to save and close the file. Finally, close and reopen Terminal to load the new <code>PATH</code> variable. If you did it correctly, you should be able to run the <code>puppet</code> command, as you can see here.</p>
<p>However, if you try to use <code>sudo</code> to run the <code>puppet</code> command as root, you&rsquo;ll notice that it still cannot find the command. This is due to the fact that the system protects the <code>PATH</code> variable from changes when using root privileges in order to enhance system security. So, you&rsquo;ll also need to edit the <code>PATH</code> variable used by the <code>sudo</code> command. To do so, use the following command to open the <code>sudo</code> configuration file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo visudo</span></span></code></pre></div><p>This command will open the <code>\etc\sudoers</code> file on your system for editing. Near the top, you&rsquo;ll see a line for <code>Defaults secure_path</code> containing the <code>PATH</code> variable used by the <code>sudo</code> command. Carefully edit that line by adding the following text to the end, before the closing quotation mark:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>:/opt/puppetlabs/bin</span></span></code></pre></div><p>Note that I added a colon to the end of the existing line, then the new path. On my system, the full line now looks like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Defaults    secure_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/opt/puppetlabs/bin&#34;</span></span></span></code></pre></div><p>Once you are done editing, you can use <kbd>CTRL</kbd>+<kbd>X</kbd>, then <kbd>Y</kbd>, then <kbd>ENTER</kbd> to save and close the file. You should now be able to use the <code>sudo puppet</code> command as well.</p>
<p>Now, let&rsquo;s switch over to Windows and install the Puppet Agent there. First, you&rsquo;ll need to download the Puppet Agent using the link on the resources page below this video. Remember to find the latest version of the Puppet Agent installer, as there are many listed on this page. Once you have downloaded the file, simply double-click on it to run the installer. It will install Puppet Agent on the computer. It&rsquo;s that simple!</p>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/clipboard.min.js?1698959789" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/perfect-scrollbar.min.js?1698959789" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/theme.js?1698959789" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cis527/js/embed-iframe.js?1698959789 defer"></script>
  </body>
</html>
