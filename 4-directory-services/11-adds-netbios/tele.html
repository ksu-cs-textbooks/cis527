<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That’s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I’ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><meta name=twitter:title content="AD and NETBIOS Names :: CIS 527 Textbook"><meta name=twitter:description content="It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That’s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I’ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/4-directory-services/11-adds-netbios/index.html"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="AD and NETBIOS Names :: CIS 527 Textbook"><meta property="og:description" content="It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That’s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I’ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Directory Services"><meta property="article:modified_time" content="2024-10-02T15:46:11-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><meta itemprop=name content="AD and NETBIOS Names :: CIS 527 Textbook"><meta itemprop=description content="It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That’s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I’ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works."><meta itemprop=dateModified content="2024-10-02T15:46:11-05:00"><meta itemprop=wordCount content="751"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><title>AD and NETBIOS Names :: CIS 527 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis527/4-directory-services/11-adds-netbios/index.html rel=canonical type=text/html title="AD and NETBIOS Names :: CIS 527 Textbook"><link href=/cis527/4-directory-services/11-adds-netbios/index.xml rel=alternate type=application/rss+xml title="AD and NETBIOS Names :: CIS 527 Textbook"><link href=/cis527/4-directory-services/11-adds-netbios/index.print.html rel=alternate type=text/html title="AD and NETBIOS Names :: CIS 527 Textbook"><link href=/cis527/4-directory-services/11-adds-netbios/embed.html rel=alternate type=text/html title="AD and NETBIOS Names :: CIS 527 Textbook"><link href=/cis527/css/auto-complete/auto-complete.min.css?1756825313 rel=stylesheet><script src=/cis527/js/auto-complete/auto-complete.min.js?1756825313 defer></script><script src=/cis527/js/search-lunr.min.js?1756825313 defer></script><script src=/cis527/js/search.min.js?1756825313 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis527/searchindex.en.js?1756825313"</script><script src=/cis527/js/lunr/lunr.min.js?1756825313 defer></script><script src=/cis527/js/lunr/lunr.stemmer.support.min.js?1756825313 defer></script><script src=/cis527/js/lunr/lunr.multi.min.js?1756825313 defer></script><script src=/cis527/js/lunr/lunr.en.min.js?1756825313 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis527/fonts/fontawesome/css/fontawesome-all.min.css?1756825313 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/fonts/fontawesome/css/fontawesome-all.min.css?1756825313 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar/perfect-scrollbar.min.css?1756825313 rel=stylesheet><link href=/cis527/css/theme.min.css?1756825313 rel=stylesheet><link href=/cis527/css/format-html.min.css?1756825313 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/4-directory-services/11-adds-netbios/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis527/css/custom.css?1756825313 rel=stylesheet></head><body class="mobile-support html" data-url=/cis527/4-directory-services/11-adds-netbios/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 4-directory-services" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=ad-and-netbios-names>AD and NETBIOS Names</h1><p>It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That&rsquo;s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I&rsquo;ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works.</p><p>When configuring an Active Directory (AD) domain, there are two important settings: the <strong>root domain name</strong> (numbered 1 in the screenshots below) and the <strong>NETBIOS domain name</strong> (numbered 2 in the screenshots below).</p><p>In an ideal setup, those names are closely related. Typically, if the <strong>root domain name</strong> is <code>ad.russfeld.cis527.org</code> then the <strong>NETBIOS domain name</strong> would be <code>ad</code> - the first part of the <strong>root domain name</strong>. In most cases, you <em>should not change</em> the <strong>NETBIOS domain name</strong> from the default that is proposed by the setup process. (<em>If you did, that&rsquo;s fine - keep reading!</em>)</p><p>In the video for setting up an AD domain, I used a simplified root domain name <code>cis527.local</code>, which meant that my NETBIOS domain name would be <code>cis527</code> as shown in the screenshots below:</p><p><a href=#R-image-e0d55780d800a8bb5f12e48a0f47ce51 class=lightbox-link><img alt="Root Domain Name" class="border lazy lightbox figure-image" loading=lazy src=/cis527/images/adds1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e0d55780d800a8bb5f12e48a0f47ce51><img alt="Root Domain Name" class="border lazy lightbox lightbox-image" loading=lazy src=/cis527/images/adds1.png></a></p><p><a href=#R-image-bc4ae7813b347654e36b617a1c42e903 class=lightbox-link><img alt="NETBIOS Domain Name" class="border lazy lightbox figure-image" loading=lazy src=/cis527/images/adds2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bc4ae7813b347654e36b617a1c42e903><img alt="NETBIOS Domain Name" class="border lazy lightbox lightbox-image" loading=lazy src=/cis527/images/adds2.png></a></p><p>For the lab assignment itself, I give you a more concrete desired <strong>root domain name</strong> such as <code>ad.&lt;your eID>.cis527.org</code>. However, I do not specify the <strong>NETBIOS domain name</strong>, which should default to <code>ad</code>. However, you can freely change it, and I believe that the video is leading many students to change that value to either <code>cis527</code> or <code>&lt;your eID></code>. To be clear, you <em>should not change</em> the <strong>NETBIOS domain name</strong> at this step - whatever is proposed by the configuration wizard is correct.</p><p><em><strong>If you&rsquo;ve changed this, that&rsquo;s fine! You&rsquo;ll just have to adapt a couple of things further down the line.</strong></em></p><p>To see how your domain is set up, open the <strong>Active Directory Users and Computers</strong> tool in your Windows Server VM, and find the user you created in the <strong>Users</strong> folder and open it. There should be an <strong>Account</strong> tab that looks like the following screenshot (this is from a different VM setup, so the domain names are purposefully different than what the lab specifies):</p><p><a href=#R-image-77f2a974f77848c99c78c6b5ec430331 class=lightbox-link><img alt="AD Account Tab" class="border lazy lightbox figure-image" loading=lazy src=/cis527/images/adds3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-77f2a974f77848c99c78c6b5ec430331><img alt="AD Account Tab" class="border lazy lightbox lightbox-image" loading=lazy src=/cis527/images/adds3.png></a></p><p>In that screenshot, you can clearly see the <strong>root domain name</strong> labelled with the number 1, which is <code>adrussfeld.cis527.cs.ksu.edu</code>, and the <strong>NETBIOS domain name</strong> labelled with number 2 is <code>ADRUSSFELD</code>. This is the VM that I used for creating the <a href=/cis527/4-directory-services/09-linux-client-on-windows-domain/index.html>Linux Client on Windows Domain</a> video that was new for Summer 2020. So, make note of both of these settings in your AD configuration, as you&rsquo;ll need them when trying to log on to the domain or run commands.</p><p>When referencing usernames on an AD domain, there are two basic methods:</p><ol><li><code>&lt;username>@&lt;root domain name></code></li><li><code>&lt;NETBIOS domain name>\&lt;username></code></li></ol><p>So, when I want to log in as that user on Ubuntu, I would use method 1 with the <strong>root domain name</strong> (this is before we change the <code>sssd</code> configuration file to not require the full domain name):</p><p><a href=#R-image-97789db6cdf2237a3387a87996ee96b3 class=lightbox-link><img alt="Ubuntu AD Login" class="border lazy lightbox figure-image" loading=lazy src=/cis527/images/adds4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-97789db6cdf2237a3387a87996ee96b3><img alt="Ubuntu AD Login" class="border lazy lightbox lightbox-image" loading=lazy src=/cis527/images/adds4.png></a></p><p>However, if I want to do the <code>ldapsearch</code> command to search the Windows AD, I&rsquo;ll need to use method 2 with the <strong>NETBIOS domain name</strong>:</p><p><a href=#R-image-ea1d5af151b42b442242d98671a46565 class=lightbox-link><img alt="Ubuntu LDAPSearch" class="border lazy lightbox figure-image" loading=lazy src=/cis527/images/adds5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ea1d5af151b42b442242d98671a46565><img alt="Ubuntu LDAPSearch" class="border lazy lightbox lightbox-image" loading=lazy src=/cis527/images/adds5.png></a></p><p>So, you should be able to adapt to whichever method is required, making changes where necessary to make the commands work.</p><p><em><strong>Q: What if my root domain name and NETBIOS domain name are different? For example, my root domain name is <code>ad.&lt;eID>.cis527.org</code> but I set my NETBIOS domain name to <code>cis527&lt;eID></code>.</strong></em></p><p>As far as I can tell, you should still be able to complete Lab 4 with an AD domain configured in this way. The only issues you may run into are when using the <code>realm join</code> command and the <code>ldapsearch</code> commands on Ubuntu. You&rsquo;ll have to pay close attention to which method is being used, and adjust the commands as necessary to fit the situation. So far, I&rsquo;ve worked with at least two students who ran into this issue but were able to get it to work with minimal problems.</p><p>It may also be very important to make sure that both your Windows client and Ubuntu client are configured to use the Windows AD server as the first DNS entry. I usually just set a static DNS entry on each of those systems before joining the domain as directed in the video - in the real world you&rsquo;d have your DHCP server do this for you.</p><footer class=footline></footer></article></div></main></div><script src=/cis527/js/clipboard/clipboard.min.js?1756825313 defer></script><script src=/cis527/js/perfect-scrollbar/perfect-scrollbar.min.js?1756825313 defer></script><script src=/cis527/js/theme.min.js?1756825313 defer></script></div><script src=/cis527/js/tele-scroll.min.js?1756825313 defer></script></body></html>