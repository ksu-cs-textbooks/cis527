<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Resources How Does SSH Work from Hostinger SSH Essentials: Working with SSH Servers, Clients and Keys from DigitalOcean How to Set Up SSH Keys on Ubuntu 20.04 from DigitalOcean Simplify Your Life With an SSH Config File from Nerderati Video Transcript In this video, I’ll discuss how to use the Secure Shell, or SSH, remote server and client. You’ll be using it throughout the semester to connect to various computers, and there are a few things you should know that will help make your experience a much more pleasant one."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary"><meta name=twitter:title content="SSH :: CIS 527 Textbook"><meta name=twitter:description content="Resources How Does SSH Work from Hostinger SSH Essentials: Working with SSH Servers, Clients and Keys from DigitalOcean How to Set Up SSH Keys on Ubuntu 20.04 from DigitalOcean Simplify Your Life With an SSH Config File from Nerderati Video Transcript In this video, I’ll discuss how to use the Secure Shell, or SSH, remote server and client. You’ll be using it throughout the semester to connect to various computers, and there are a few things you should know that will help make your experience a much more pleasant one."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/x-extras/02-ssh/embed.html"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="SSH :: CIS 527 Textbook"><meta property="og:description" content="Resources How Does SSH Work from Hostinger SSH Essentials: Working with SSH Servers, Clients and Keys from DigitalOcean How to Set Up SSH Keys on Ubuntu 20.04 from DigitalOcean Simplify Your Life With an SSH Config File from Nerderati Video Transcript In this video, I’ll discuss how to use the Secure Shell, or SSH, remote server and client. You’ll be using it throughout the semester to connect to various computers, and there are a few things you should know that will help make your experience a much more pleasant one."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Extras"><meta property="article:modified_time" content="2021-08-23T10:38:52-05:00"><meta itemprop=name content="SSH :: CIS 527 Textbook"><meta itemprop=description content="Resources How Does SSH Work from Hostinger SSH Essentials: Working with SSH Servers, Clients and Keys from DigitalOcean How to Set Up SSH Keys on Ubuntu 20.04 from DigitalOcean Simplify Your Life With an SSH Config File from Nerderati Video Transcript In this video, I’ll discuss how to use the Secure Shell, or SSH, remote server and client. You’ll be using it throughout the semester to connect to various computers, and there are a few things you should know that will help make your experience a much more pleasant one."><meta itemprop=dateModified content="2021-08-23T10:38:52-05:00"><meta itemprop=wordCount content="2099"><title>SSH :: CIS 527 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis527/x-extras/02-ssh/ rel=canonical type=text/html title="SSH :: CIS 527 Textbook"><link href=/cis527/x-extras/02-ssh/index.xml rel=alternate type=application/rss+xml title="SSH :: CIS 527 Textbook"><link href=/cis527/x-extras/02-ssh/index.print.html rel=alternate type=text/html title="SSH :: CIS 527 Textbook"><link href=/cis527/x-extras/02-ssh/tele.html rel=alternate type=text/html title="SSH :: CIS 527 Textbook"><link href=/cis527/css/fontawesome-all.min.css?1727188825 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fontawesome-all.min.css?1727188825 rel=stylesheet></noscript><link href=/cis527/css/nucleus.css?1727188825 rel=stylesheet><link href=/cis527/css/auto-complete.css?1727188825 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/auto-complete.css?1727188825 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar.min.css?1727188825 rel=stylesheet><link href=/cis527/css/fonts.css?1727188825 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fonts.css?1727188825 rel=stylesheet></noscript><link href=/cis527/css/theme.css?1727188825 rel=stylesheet><link href=/cis527/css/theme-light-theme.css?1727188825 rel=stylesheet id=R-variant-style><link href=/cis527/css/chroma-relearn-light.css?1727188825 rel=stylesheet id=R-variant-chroma-style><link href=/cis527/css/variant.css?1727188825 rel=stylesheet><link href=/cis527/css/print.css?1727188825 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.index_js_url="/cis527/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis527/css/custom.css?1727188825 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis527/x-extras/02-ssh/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/19Fo6yUiPvE style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h4 id=resources>Resources</h4><ul><li><a href=https://www.hostinger.com/tutorials/ssh-tutorial-how-does-ssh-work rel=external target=_blank>How Does SSH Work</a> from Hostinger</li><li><a href=https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys rel=external target=_blank>SSH Essentials: Working with SSH Servers, Clients and Keys</a> from DigitalOcean</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-20-04 rel=external target=_blank>How to Set Up SSH Keys on Ubuntu 20.04</a> from DigitalOcean</li><li><a href=https://nerderati.com/2011/03/17/simplify-your-life-with-an-ssh-config-file/ rel=external target=_blank>Simplify Your Life With an SSH Config File</a> from Nerderati</li></ul><h4 id=video-transcript>Video Transcript</h4><p>In this video, I&rsquo;ll discuss how to use the Secure Shell, or SSH, remote server and client. You&rsquo;ll be using it throughout the semester to connect to various computers, and there are a few things you should know that will help make your experience a much more pleasant one.</p><p>If you&rsquo;d like to know more about the technical details of how SSH works, refer to the links in the resources section below the video.</p><p>First, let&rsquo;s look at the SSH client program, available as the <code>ssh</code> command on most Linux systems. It is typically installed by default, but if not you can install it using the <code>apt</code> command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install openssh-client</span></span></code></pre></div><p>Once it is installed, you can connect to any server you wish by simply using the <code>ssh</code> command followed by the host you&rsquo;d like to connect to. Optionally, you may need to provide a different username, in which case you would put the username before the host, connecting the two with an <code>@</code> symbol, much like an email address. If you&rsquo;d like to try it yourself, you can try to connect to the CS Linux servers using a command similar to the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh russfeld@cslinux.cs.ksu.edu</span></span></code></pre></div><p>Obviously, you&rsquo;ll need to replace <code>russfeld</code> with your own username.</p><p>If this is the first time you are connecting to a particular server, you&rsquo;ll receive an error message similar to the following:</p><blockquote><p>The authenticity of host &lsquo;cislinux.cs.ksu.edu (129.130.10.43)&rsquo; can&rsquo;t be established.<br>ECDSA key fingerprint is SHA256: &lt;random_text>.<br>Are you sure you want to continue connecting (yes/no)?</p></blockquote><p>As a security feature, the SSH client will remember the identity of each server you connect to using this fingerprint. Since this is the first time you have connected to this server, it doesn&rsquo;t have a fingerprint stored, and it will ask you to confirm that the one presented is correct. If you wanted to, you could contact the owner of the server and ask them to verify that the fingerprint is correct before connecting, but in practice that is usually not necessary. However, once you&rsquo;ve accepted the fingerprint, it will store it and check the stored fingerprint against the one presented on all future connections to that server.</p><p>If, at any point in the future, the fingerprints don&rsquo;t match, you will be presented with a similar error message. In that case, however, you should be very cautious. It could be the case that the server was recently reset by its owner, in which case you can easily contact them to verify that fact. However, it could also be the case that someone is attempting to either listen to your connection or have you connect to a malicious server. In that case, you should terminate the connection immediately, or else they could possibly steal your credentials or worse.</p><p>In any case, since this is our first time connecting, just type <code>yes</code> to store the fingerprint and continue connecting. You&rsquo;ll then be asked to provide your password. Note that when you enter your password here it will not show any indication that you are entering text, so you must type carefully. If the password is accepted, you&rsquo;ll be given access to the system.</p><p>On that system, you can run any command that you normally would. You can even run graphical programs remotely via SSH, but that requires a bit more configuration and software which I won&rsquo;t go into here. Once you are finished, you can type <code>exit</code> to close the remote session and return to your own computer.</p><p>Next, let&rsquo;s discuss the SSH server. It is available as open-source software for Linux, and can easily be installed on any system running Ubuntu Linux using the <code>apt</code> command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install openssh-server</span></span></code></pre></div><p>Once it has been installed, you can verify that it is working by using the <code>ssh</code> command to connect to your own system:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh localhost</span></span></code></pre></div><p>If this is the first time you have done so, you should get the usual warning regarding host authenticity. You can simply type <code>yes</code> to continue connecting, then provide your password to log on to the system. Once you have verified that it is working, type <code>exit</code> to return to the local terminal. If your server is connected to a network, you can use <code>ssh</code> to connect to it just like you would any other server. Note that you may have to configure your firewall to allow incoming SSH connections, typically on port 22.</p><p>The SSH server has many options that you can configure. You can edit the configuration file using this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo nano /etc/ssh/sshd_config</span></span></code></pre></div><p>There are many great resources online to help you understand this file. In general you can use the default settings without any problems, but there are a couple of lines you may want to change. Note that any line prefixed with a hash symbol <code>#</code> is a code comment, so you will need to remove that symbol for the change to be read. The commented lines reflect the default settings, which can be overridden by un-commenting the line and changing the value.</p><p>The first line you may want to change is:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>#Port 22</span></span></span></code></pre></div><p>This line defines the port that SSH listens on. By default, SSH uses port 22, a well-known port for that service. However, since everyone knows that SSH uses port 22, it is very common for servers connected to the internet to receive thousands of malicious login attempts via that port in an attempt to discover weak passwords and usernames. By changing the SSH port to a different port, you can eliminate much of that traffic. Of course, if you change this port here, you may also need to update your firewall rules to allow the new port through the firewall.</p><p>The other line worth looking at is:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>#PasswordAuthentication yes</span></span></span></code></pre></div><p>By changing this line to <code>no</code> you can require that all users on your system use SSH keys to log in, which are generally much more secure than passwords. We&rsquo;ll discuss SSH keys shortly. Remember to make sure your own SSH key is properly configured before changing this setting, or you may lock yourself out from your own system.</p><p>If you make any changes to the configuration file, you can restart the server using the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart ssh</span></span></code></pre></div><p>You can also always check the status of the server using this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl status ssh</span></span></code></pre></div><p>To make your life a bit easier, let&rsquo;s discuss SSH keys. Instead of providing a password each time you want to log on to a system with SSH, you can have your computer automatically provide a key to prove your identity. Not only is this simpler for you, but in many cases it is much more secure overall.</p><p>To use SSH keys, you must first generate one. You&rsquo;ll need to perform this step on the computer you plan to connect from, not on the server you&rsquo;ll connect to. In Terminal, type the following command to start the process:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-keygen -t rsa -b <span class=m>4096</span></span></span></code></pre></div><p>This will generate a public & private RSA keypair with a 4096 bit size, generally regarded as a very secure key by most standards.</p><p>The command will first ask you where to store the key. It defaults to <code>~/.ssh/id_rsa</code> which is the standard location, so just press enter to accept the default.</p><p>Next, it will ask you to set a passphrase for your key. If you are setting up the key on a secure computer that only you would have access to, you can leave this blank to not set a passphrase on the key. In that way, you won&rsquo;t have to enter any passwords to use SSH with this key. However, if anyone gains access to the key file itself, they can easily log in to any system as you with that key until you revoke access. If you want your keys to be more secure, you can set a passphrase to lock the key. The downside is that you&rsquo;ll have to provide the passphrase for the key in order to use it, but it is still more secure than providing the password to the user account itself.</p><p>Once the key is created, it will give you some information about where it is stored. You can view those files by typing the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls ~/.ssh/</span></span></code></pre></div><p>There should be at least two files here. The first, <code>id_rsa</code>, is your private key. Do not share that file with anyone! You may choose to make a backup of that file for your own use, if desired. However, if the key was not protected with a passphrase when it was created, you should protect that file as closely as if it contained all of your passwords in plain text.</p><p>The second file, <code>id_rsa.pub</code>, is your public key. This is the file we&rsquo;ll need to give to other servers so that we can log on using our private key. There are a couple of ways to do so. First, I&rsquo;ll show you the automatic way, then I&rsquo;ll discuss what it does so you could do it manually if needed.</p><p>To send your public key to a remote server, we&rsquo;ll use the <code>ssh-copy-id</code> command. Its syntax is very similar to the normal SSH command. For example, to send my new public key to the CS Linux server, I would do the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-copy-id russfeld@cslinux.cs.ksu.edu</span></span></code></pre></div><p>It will prompt you for your password, and if it succeeds it will install the key on that server. You can then verify that it worked by using the normal SSH command to connect. It should succeed without asking you to provide any password, except possibly the passphrase for your SSH key.</p><p>Once on that server, we can see where the key gets installed. It is usually placed in a file at <code>~/.ssh/authorized_keys</code>. On some systems, it may be <code>~/.ssh/authorized_keys2</code> due to a security vulnerability, or both files may be present. This is configurable in the SSH Server configuration file.</p><p>In that <code>authorized_keys</code> file, you&rsquo;ll see a copy of your public key on a single line. To add additional keys to the system, you can either use the <code>ssh-copy-id</code> command from the system containing the new key, or copy and paste the public keys directly into this file, one per line. To remove a key, simply delete the corresponding line from this file. Note that at the end of the line you can see the username and computer name from the machine where the key was created, which can be very helpful in identifying keys.</p><p>Finally, there is one other trick you can use to make working with SSH servers much more useful, and that is through the use of an SSH config file. First, make sure you are back on your local computer and not on any remote servers. Check the command prompt carefully, or type <code>exit</code> a few times to make sure you have closed all SSH sessions. On your local computer, open a new SSH config file using the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nano ~/.ssh/config</span></span></code></pre></div><p>By convention, your SSH config file should reside in that location. In that file, you can configure a wide variety of host settings for the servers you connect to. For example, here is one entry from my own SSH config file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Host cs
</span></span><span class=line><span class=cl>    HostName cslinux.cs.ksu.edu
</span></span><span class=line><span class=cl>    Port <span class=m>22</span>
</span></span><span class=line><span class=cl>    User russfeld
</span></span><span class=line><span class=cl>    IdentityFile ~/.ssh/id_rsa</span></span></code></pre></div><p>The first line gives the short name for the host. Then, all lines below it give configuration information for that host. For example, here I&rsquo;ve given the hostname (you can also use an IP address), the port, the username, and the private key file that should be used when connecting to this host. These are all options that you&rsquo;d normally have to provide on the command line when using the <code>ssh</code> command. By placing them here, you can just reference the host by its short name, and all of this information will automatically be used when you connect to that system.</p><p>With this in place, all I have to do to connect to the CS Linux servers is type:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh cs</span></span></code></pre></div><p>and all my other options are read from this configuration file. Pretty nifty, right?</p><p>There are many other options you can include in your SSH config file. I recommend checking out the links in the resources section for more information.</p><p>I hope this video will be very useful to you as you work with SSH throughout this semester and in the future. I know much of this information has been very helpful to me in my career thus far.</p><footer class=footline></footer></article></div></main></div><script src=/cis527/js/clipboard.min.js?1727188825 defer></script><script src=/cis527/js/perfect-scrollbar.min.js?1727188825 defer></script><script src=/cis527/js/theme.js?1727188825 defer></script><script src=/cis527/js/embed-iframe.js?1727188825 defer></script></body></html>