<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="Note The examples in this video are for an old version of Lab 3, but should be instructive enough to be useful. Read the new Lab 3 assignment carefully and follow its instructions when configuring your system for grading. Some commands are different - see the transcript below for updated commands –Russ
YouTube Video Resources Slides Domain Name System (DNS) on Wikipedia List of DNS Record Types on Wikipedia Domain Name System (DNS) History from Living Internet BIND on Wikipedia HOSTS.TXT from March 22, 1985 Root Name Server on Wikipedia Root Files from IANA How To Configure BIND as a Private Network DNS Server on Ubuntu 20.04 from DigitalOcean (works for 24.04 as well) Bind9 Server How-To from Ubuntu Community Help Wiki DNS Configuration from Ubuntu Server Guide Video Transcript The Domain Name System, or DNS, is another integral part of working with the internet and larger networks today. In this video, we’ll cover the history of DNS, how it works, and how to use it in an enterprise organization using the BIND software."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><meta name=twitter:title content="DNS :: CIS 527 Textbook"><meta name=twitter:description content="Note The examples in this video are for an old version of Lab 3, but should be instructive enough to be useful. Read the new Lab 3 assignment carefully and follow its instructions when configuring your system for grading. Some commands are different - see the transcript below for updated commands –Russ
YouTube Video Resources Slides Domain Name System (DNS) on Wikipedia List of DNS Record Types on Wikipedia Domain Name System (DNS) History from Living Internet BIND on Wikipedia HOSTS.TXT from March 22, 1985 Root Name Server on Wikipedia Root Files from IANA How To Configure BIND as a Private Network DNS Server on Ubuntu 20.04 from DigitalOcean (works for 24.04 as well) Bind9 Server How-To from Ubuntu Community Help Wiki DNS Configuration from Ubuntu Server Guide Video Transcript The Domain Name System, or DNS, is another integral part of working with the internet and larger networks today. In this video, we’ll cover the history of DNS, how it works, and how to use it in an enterprise organization using the BIND software."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/3-core-networking-services/11-dns/index.html"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="DNS :: CIS 527 Textbook"><meta property="og:description" content="Note The examples in this video are for an old version of Lab 3, but should be instructive enough to be useful. Read the new Lab 3 assignment carefully and follow its instructions when configuring your system for grading. Some commands are different - see the transcript below for updated commands –Russ
YouTube Video Resources Slides Domain Name System (DNS) on Wikipedia List of DNS Record Types on Wikipedia Domain Name System (DNS) History from Living Internet BIND on Wikipedia HOSTS.TXT from March 22, 1985 Root Name Server on Wikipedia Root Files from IANA How To Configure BIND as a Private Network DNS Server on Ubuntu 20.04 from DigitalOcean (works for 24.04 as well) Bind9 Server How-To from Ubuntu Community Help Wiki DNS Configuration from Ubuntu Server Guide Video Transcript The Domain Name System, or DNS, is another integral part of working with the internet and larger networks today. In this video, we’ll cover the history of DNS, how it works, and how to use it in an enterprise organization using the BIND software."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Core Networking Services"><meta property="article:modified_time" content="2024-08-08T12:28:42-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><meta itemprop=name content="DNS :: CIS 527 Textbook"><meta itemprop=description content="Note The examples in this video are for an old version of Lab 3, but should be instructive enough to be useful. Read the new Lab 3 assignment carefully and follow its instructions when configuring your system for grading. Some commands are different - see the transcript below for updated commands –Russ
YouTube Video Resources Slides Domain Name System (DNS) on Wikipedia List of DNS Record Types on Wikipedia Domain Name System (DNS) History from Living Internet BIND on Wikipedia HOSTS.TXT from March 22, 1985 Root Name Server on Wikipedia Root Files from IANA How To Configure BIND as a Private Network DNS Server on Ubuntu 20.04 from DigitalOcean (works for 24.04 as well) Bind9 Server How-To from Ubuntu Community Help Wiki DNS Configuration from Ubuntu Server Guide Video Transcript The Domain Name System, or DNS, is another integral part of working with the internet and larger networks today. In this video, we’ll cover the history of DNS, how it works, and how to use it in an enterprise organization using the BIND software."><meta itemprop=dateModified content="2024-08-08T12:28:42-05:00"><meta itemprop=wordCount content="1505"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis527/images/hero.png"><title>DNS :: CIS 527 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis527/3-core-networking-services/11-dns/index.html rel=canonical type=text/html title="DNS :: CIS 527 Textbook"><link href=/cis527/3-core-networking-services/11-dns/index.xml rel=alternate type=application/rss+xml title="DNS :: CIS 527 Textbook"><link href=/cis527/3-core-networking-services/11-dns/index.print.html rel=alternate type=text/html title="DNS :: CIS 527 Textbook"><link href=/cis527/3-core-networking-services/11-dns/embed.html rel=alternate type=text/html title="DNS :: CIS 527 Textbook"><link href=/cis527/css/auto-complete/auto-complete.min.css?1759252849 rel=stylesheet><script src=/cis527/js/auto-complete/auto-complete.min.js?1759252849 defer></script><script src=/cis527/js/search-lunr.min.js?1759252849 defer></script><script src=/cis527/js/search.min.js?1759252849 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis527/searchindex.en.js?1759252849"</script><script src=/cis527/js/lunr/lunr.min.js?1759252849 defer></script><script src=/cis527/js/lunr/lunr.stemmer.support.min.js?1759252849 defer></script><script src=/cis527/js/lunr/lunr.multi.min.js?1759252849 defer></script><script src=/cis527/js/lunr/lunr.en.min.js?1759252849 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis527/fonts/fontawesome/css/fontawesome-all.min.css?1759252849 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/fonts/fontawesome/css/fontawesome-all.min.css?1759252849 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar/perfect-scrollbar.min.css?1759252849 rel=stylesheet><link href=/cis527/css/theme.min.css?1759252849 rel=stylesheet><link href=/cis527/css/format-html.min.css?1759252849 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/3-core-networking-services/11-dns/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis527/css/custom.css?1759252849 rel=stylesheet></head><body class="mobile-support html" data-url=/cis527/3-core-networking-services/11-dns/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 3-core-networking-services" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=dns>DNS</h1><details open class="box cstyle notices note"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-circle"></i>
Note</summary><div class=box-content><p>The examples in this video are for an old version of Lab 3, but should be instructive enough to be useful. Read the new Lab 3 assignment carefully and follow its instructions when configuring your system for grading. Some commands are different - see the transcript below for updated commands &ndash;Russ</p></div></details><a href="https://www.youtube.com/watch?v=CN8YPR_X1eU">YouTube Video</a><h4 id=resources>Resources</h4><ul><li><strong><a href=/cis527/3-core-networking-services/11-dns-slides/index.html>Slides</a></strong></li><li><a href=https://en.wikipedia.org/wiki/Domain_Name_System rel=external target=_blank>Domain Name System (DNS)</a> on Wikipedia</li><li><a href=https://en.wikipedia.org/wiki/List_of_DNS_record_types rel=external target=_blank>List of DNS Record Types</a> on Wikipedia</li><li><a href=https://www.livinginternet.com/i/iw_dns_history.htm rel=external target=_blank>Domain Name System (DNS) History</a> from Living Internet</li><li><a href=https://en.wikipedia.org/wiki/BIND rel=external target=_blank>BIND</a> on Wikipedia</li><li><a href=https://jim.rees.org/apollo-archive/hosts.txt rel=external target=_blank>HOSTS.TXT</a> from March 22, 1985</li><li><a href=https://en.wikipedia.org/wiki/Root_name_server rel=external target=_blank>Root Name Server</a> on Wikipedia</li><li><a href=https://www.iana.org/domains/root/files rel=external target=_blank>Root Files</a> from IANA</li><li><a href=https://www.digitalocean.com/community/tutorials/how-to-configure-bind-as-a-private-network-dns-server-on-ubuntu-20-04 rel=external target=_blank>How To Configure BIND as a Private Network DNS Server on Ubuntu 20.04</a> from DigitalOcean (works for 24.04 as well)</li><li><a href=https://help.ubuntu.com/community/BIND9ServerHowto rel=external target=_blank>Bind9 Server How-To</a> from Ubuntu Community Help Wiki</li><li><a href=https://ubuntu.com/server/docs/domain-name-service-dns rel=external target=_blank>DNS Configuration</a> from Ubuntu Server Guide</li></ul><h4 id=video-transcript>Video Transcript</h4><p>The Domain Name System, or DNS, is another integral part of working with the internet and larger networks today. In this video, we&rsquo;ll cover the history of DNS, how it works, and how to use it in an enterprise organization using the BIND software.</p><p>As a quick note, much of the information in this lecture is adapted from information provided by Seth Galitzer, our system administrator here in K-State CS. He created the original slides as part of a guest lecture in this course when it was offered on campus, and was gracious enough to share this information for future versions of the course.</p><p>First, let&rsquo;s review some quick history. As you may know, the precursor to today&rsquo;s internet, the ARPANET, was first conceived in 1965. By 1969, the first four nodes of that network were connected. Over the next two decades, ARPANET slowly grew in size, and by 1982, with the introduction of TCP and IP, it exploded in size as various networks joined together to create the internet we know today.</p><p>In the early days, they found it would be helpful to have a list of human-readable names for the nodes on the network. In that way, instead of remembering the IP address of a particular server, you could just remember its name and look up the IP address, much like you would look up the phone number of a person or business using a phone book. So, they created a file called <code>hosts.txt</code>, which was hosted by the Stanford Research Institute. In essence, it contained a list of all of the servers on ARPANET, paired with its IP address. Anyone could query that file with a computer name, and get back the IP address of the system.</p><p>While it was a useful system, it had some major drawbacks: first, it must be updated manually. At one time, the only way to add a new system to the file was to contact the person in charge of it via telephone. As the file grew larger, it was more and more difficult to maintain consistency and avoid name collisions. Finally, it became very taxing on SRIs system, as each system on the growing internet would download a copy of the <code>hosts.txt</code> file to store locally, sometimes requesting it many times per day to get the very latest version of the file. So, a new system needed to be built to provide this feature.</p><p>In 1983, the first version of the Domain Name Service, or DNS, was published as an RFC. It was later finalized in 1987. They proposed creating a distributed system of name servers, as well as a hierarchical, consistent name space for all the systems on the internet. Beyond just working with domain names and IP addresses, they also added the ability for the system to work with many different protocols and data types, hopefully designing it in such a way that it would work well into the future. Thankfully, their design was very successful, and we still use it today.</p><p>The domain name space we use today has a hierarchical format, much like this diagram. At the very top of the diagram is the root nameserver. It is responsible for keeping track of the locations of the DNS servers for all top-level domains, or TLDs, in the current domain name space. The original DNS specification calls for 13 root name servers, which is still true today. However, due to advances in technology, there are nearly 1000 redundant root name servers on the internet today, each one a clone of one of the 13 root servers. The file containing information for all of the top-level domains is very small, only about 2 MB, and can be viewed by following the link in the resources section below this video.</p><p>Below the root name server is the name server for each chosen top-level domain. For example, these are nameservers for the <code>.com</code>, <code>.org</code>, <code>.edu</code> and other top-level domains. Under each top-level domain are the name servers for each individual domain name, such as <code>yahoo.com</code>, <code>slashdot.org</code>, or <code>k-state.edu</code>. Within each domain, there can be additional levels of delegation, such as the <code>cs.k-state.edu</code> subzone, maintained within the K-State CS department for our internal systems.</p><p>With the hierarchical design of the domain name space, it may take a few steps to determine the appropriate IP address for a given domain name. For example, if you wanted to find the IP address of <code>www.wikipedia.org</code>, you might first start by querying the root name server for the location of the <code>.org</code> name server. Then, the <code>.org</code> nameserver could tell you where the <code>wikipedia.org</code> name server is. Finally, when you ask the <code>wikipedia.org</code> name server where <code>www.wikipedia.org</code> is located, it will be able to tell you since it is the authoritative name server for that domain. In practice, often there is a caching DNS server hosted by your ISP that stores previously requested domain names, so you won&rsquo;t always have to talk directly with the root name servers. This helps reduce the overall load across the root servers and makes many queries much faster.</p><p>The most commonly used DNS software today is BIND. BIND was originally developed in the 1980s as the first software to fully implement the new DNS standard, and it has been constantly under development ever since. The latest version of BIND is BIND 9, which was first released in 2000, but still consistently gets updates even today.</p><p>The DNS specification includes many different types of records. The most commonly used ones are listed here. For example, an <code>A</code> record is used to list a specific IPv4 address for a host name, whereas a <code>CNAME</code> record is used to provide an alias for another domain name. For this lab assignment, you&rsquo;ll be configuring a DNS server using BIND within your network and using several of these record types, so let&rsquo;s take a look at how that works.</p><p>Here I have configured an Ubuntu VM as directed in Lab 3 to act as a DHCP and DNS server. I also have a second Ubuntu VM acting as our client. Finally, I have disabled the DHCP server in VMware on this network segment.</p><p>First, on my server, I&rsquo;m going to start Wireshark so we can capture these packets. I&rsquo;ll also add a filter for <code>dns</code> to make sure we only see the DNS server packets.</p><p>On the client, I have already verified that it is configured to use the other Ubuntu VM as a DNS server. You can see the currently configured DNS servers using this command:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>resolvectl status</span></span></code></pre></div><p>At the bottom of that output, it should show the current DNS server for your ethernet connection. You&rsquo;ll have to press <kbd>Q</kbd> to close the output. To query a DNS record, we can use a couple of different commands. First, we can use the <code>dig</code> command to lookup a DNS name:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dig ns.cis527.cs.ksu.edu</span></span></code></pre></div><p>Looking at the output received, we can see that we did indeed get the correct IP address. We can also run that command for <code>win.cis527.cs.ksu.edu</code> and <code>ubu.cis527.cs.ksu.edu</code>. Note that the output for <code>ubu.cis527.cs.ksu.edu</code> includes both the <code>CNAME</code> record and the <code>A</code> record.</p><p>To perform a reverse lookup, we can use the <code>dig -x</code> command. Since my sample network is using the <code>192.168.40.0/24</code> subnet, I could look up the following IP address:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dig -x 192.168.40.41</span></span></code></pre></div><p>It should return the <code>PTR</code> record associated with that IP. I can do the same for the IP address ending in <code>42</code> as well.</p><p>On a Windows computer, you can use the <code>nslookup</code> command without any additional options to perform both forward and reverse DNS lookups.</p><p>Back on the server VM, we should clearly be able to see the DNS packets in Wireshark. Each one gives the type of record requested, and just below it is the response packet with the answer from our DNS server.</p><p>With that information, you should be ready to configure your own DNS server. As always, if you have any questions or run into issues, please post in the course discussion forums on Canvas. This process can definitely be frustrating the first time you do it, since there is so much new information to read and understand. Don&rsquo;t be afraid to ask for help if you get stuck!</p><footer class=footline></footer></article></div></main></div><script src=/cis527/js/clipboard/clipboard.min.js?1759252849 defer></script><script src=/cis527/js/perfect-scrollbar/perfect-scrollbar.min.js?1759252849 defer></script><script src=/cis527/js/theme.min.js?1759252849 defer></script></div><script src=/cis527/js/tele-scroll.min.js?1759252849 defer></script></body></html>