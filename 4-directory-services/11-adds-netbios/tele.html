<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That’s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I’ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary"><meta name=twitter:title content="AD and NETBIOS Names :: CIS 527 Textbook"><meta name=twitter:description content="It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That’s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I’ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis527/4-directory-services/11-adds-netbios/"><meta property="og:site_name" content="CIS 527 Textbook"><meta property="og:title" content="AD and NETBIOS Names :: CIS 527 Textbook"><meta property="og:description" content="It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That’s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I’ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Directory Services"><meta property="article:modified_time" content="2024-08-08T16:02:35-05:00"><meta itemprop=name content="AD and NETBIOS Names :: CIS 527 Textbook"><meta itemprop=description content="It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That’s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I’ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works."><meta itemprop=dateModified content="2024-08-08T16:02:35-05:00"><meta itemprop=wordCount content="751"><title>AD and NETBIOS Names :: CIS 527 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis527/4-directory-services/11-adds-netbios/ rel=canonical type=text/html title="AD and NETBIOS Names :: CIS 527 Textbook"><link href=/cis527/4-directory-services/11-adds-netbios/index.xml rel=alternate type=application/rss+xml title="AD and NETBIOS Names :: CIS 527 Textbook"><link href=/cis527/4-directory-services/11-adds-netbios/index.print.html rel=alternate type=text/html title="AD and NETBIOS Names :: CIS 527 Textbook"><link href=/cis527/4-directory-services/11-adds-netbios/embed.html rel=alternate type=text/html title="AD and NETBIOS Names :: CIS 527 Textbook"><link href=/cis527/css/fontawesome-all.min.css?1724950248 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fontawesome-all.min.css?1724950248 rel=stylesheet></noscript><link href=/cis527/css/nucleus.css?1724950248 rel=stylesheet><link href=/cis527/css/auto-complete.css?1724950248 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/auto-complete.css?1724950248 rel=stylesheet></noscript><link href=/cis527/css/perfect-scrollbar.min.css?1724950248 rel=stylesheet><link href=/cis527/css/fonts.css?1724950248 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis527/css/fonts.css?1724950248 rel=stylesheet></noscript><link href=/cis527/css/theme.css?1724950248 rel=stylesheet><link href=/cis527/css/theme-auto.css?1724950248 rel=stylesheet id=R-variant-style><link href=/cis527/css/chroma-auto.css?1724950248 rel=stylesheet id=R-variant-chroma-style><link href=/cis527/css/variant.css?1724950248 rel=stylesheet><link href=/cis527/css/print.css?1724950248 rel=stylesheet media=print><script src=/cis527/js/variant.js?1724950248></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis527",window.index_js_url="/cis527/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis527/css/custom.css?1724950248 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis527/4-directory-services/11-adds-netbios/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=ad-and-netbios-names>AD and NETBIOS Names</h1><p>It appears that I have managed to confuse lots of people with the Windows AD portion of this lab. That&rsquo;s not my intent, and any confusion is totally my fault here. This is mostly due to the fact that I reused an older video showing how to set up an Active Directory server and not clearly describing how things should be changed. I&rsquo;ll do my best to clarify what you need to know and how you can adapt any existing setup you may have so that it works.</p><p>When configuring an Active Directory (AD) domain, there are two important settings: the <strong>root domain name</strong> (numbered 1 in the screenshots below) and the <strong>NETBIOS domain name</strong> (numbered 2 in the screenshots below).</p><p>In an ideal setup, those names are closely related. Typically, if the <strong>root domain name</strong> is <code>ad.cis527.cs.ksu.edu</code> then the <strong>NETBIOS domain name</strong> would be <code>ad</code> - the first part of the <strong>root domain name</strong>. In most cases, you <em>should not change</em> the <strong>NETBIOS domain name</strong> from the default that is proposed by the setup process. (<em>If you did, that&rsquo;s fine - keep reading!</em>)</p><p>In the video for setting up an AD domain, I used a simplified root domain name <code>cis527.local</code>, which meant that my NETBIOS domain name would be <code>cis527</code> as shown in the screenshots below:</p><p><a href=#R-image-622d25c583709deaddba9a78b870aced class=lightbox-link><img alt="Root Domain Name" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis527/images/adds1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-622d25c583709deaddba9a78b870aced><img alt="Root Domain Name" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis527/images/adds1.png></a></p><p><a href=#R-image-84d786f1ea74d08d17706f62e45c1845 class=lightbox-link><img alt="NETBIOS Domain Name" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis527/images/adds2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-84d786f1ea74d08d17706f62e45c1845><img alt="NETBIOS Domain Name" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis527/images/adds2.png></a></p><p>For the lab assignment itself, I give you a more concrete desired <strong>root domain name</strong> such as <code>ad.cis527&lt;your eID>.cs.ksu.edu</code>. However, I do not specify the <strong>NETBIOS domain name</strong>, which should default to <code>ad</code>. However, you can freely change it, and I believe that the video is leading many students to change that value to either <code>cis527</code> or <code>cis527&lt;your eID></code>. To be clear, you <em>should not change</em> the <strong>NETBIOS domain name</strong> at this step - whatever is proposed by the configuration wizard is correct.</p><p><em><strong>If you&rsquo;ve changed this, that&rsquo;s fine! You&rsquo;ll just have to adapt a couple of things further down the line.</strong></em></p><p>To see how your domain is set up, open the <strong>Active Directory Users and Computers</strong> tool in your Windows Server VM, and find the user you created in the <strong>Users</strong> folder and open it. There should be an <strong>Account</strong> tab that looks like the following screenshot (this is from a different VM setup, so the domain names are purposefully different than what the lab specifies):</p><p><a href=#R-image-2620012bc5d7f0daa34209f2d32fdf23 class=lightbox-link><img alt="AD Account Tab" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis527/images/adds3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2620012bc5d7f0daa34209f2d32fdf23><img alt="AD Account Tab" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis527/images/adds3.png></a></p><p>In that screenshot, you can clearly see the <strong>root domain name</strong> labelled with the number 1, which is <code>adrussfeld.cis527.cs.ksu.edu</code>, and the <strong>NETBIOS domain name</strong> labelled with number 2 is <code>ADRUSSFELD</code>. This is the VM that I used for creating the <a href=/cis527/4-directory-services/09-linux-client-on-windows-domain/>Linux Client on Windows Domain</a> video that was new for Summer 2020. So, make note of both of these settings in your AD configuration, as you&rsquo;ll need them when trying to log on to the domain or run commands.</p><p>When referencing usernames on an AD domain, there are two basic methods:</p><ol><li><code>&lt;username>@&lt;root domain name></code></li><li><code>&lt;NETBIOS domain name>\&lt;username></code></li></ol><p>So, when I want to log in as that user on Ubuntu, I would use method 1 with the <strong>root domain name</strong> (this is before we change the <code>sssd</code> configuration file to not require the full domain name):</p><p><a href=#R-image-959ccfbd15703f33ce9f7c70df5e5ab7 class=lightbox-link><img alt="Ubuntu AD Login" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis527/images/adds4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-959ccfbd15703f33ce9f7c70df5e5ab7><img alt="Ubuntu AD Login" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis527/images/adds4.png></a></p><p>However, if I want to do the <code>ldapsearch</code> command to search the Windows AD, I&rsquo;ll need to use method 2 with the <strong>NETBIOS domain name</strong>:</p><p><a href=#R-image-3a8a13f6f67558b942d2484ed274823b class=lightbox-link><img alt="Ubuntu LDAPSearch" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis527/images/adds5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3a8a13f6f67558b942d2484ed274823b><img alt="Ubuntu LDAPSearch" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis527/images/adds5.png></a></p><p>So, you should be able to adapt to whichever method is required, making changes where necessary to make the commands work.</p><p><em><strong>Q: What if my root domain name and NETBIOS domain name are different? For example, my root domain name is <code>ad.cis527&lt;eID>.cs.ksu.edu</code> but I set my NETBIOS domain name to <code>cis527&lt;eID></code>.</strong></em></p><p>As far as I can tell, you should still be able to complete Lab 4 with an AD domain configured in this way. The only issues you may run into are when using the <code>realm join</code> command and the <code>ldapsearch</code> commands on Ubuntu. You&rsquo;ll have to pay close attention to which method is being used, and adjust the commands as necessary to fit the situation. So far, I&rsquo;ve worked with at least two students who ran into this issue but were able to get it to work with minimal problems.</p><p>It may also be very important to make sure that both your Windows client and Ubuntu client are configured to use the Windows AD server as the first DNS entry. I usually just set a static DNS entry on each of those systems before joining the domain as directed in the video - in the real world you&rsquo;d have your DHCP server do this for you.</p><footer class=footline></footer></article></div></main></div></div><script src=/cis527/js/clipboard.min.js?1724950248 defer></script><script src=/cis527/js/perfect-scrollbar.min.js?1724950248 defer></script><script src=/cis527/js/theme.js?1724950248 defer></script><script src=/cis527/js/tele-scroll.js?1724950248 defer></script></body></html>